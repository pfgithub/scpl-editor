(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t){},115:function(e,t,n){},118:function(e,t,n){"use strict";var o=n(9),a=n.n(o);a.a.define("ace/mode/scpl_highlight_rules",function(e,t,n){var o=e("../lib/oop"),a=e("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"(\\?\\?.+?\\?\\?)"},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__1:[{token:"punctuation",regex:"(\\))",next:"pop"},{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"(\\?\\?.+?\\?\\?)"},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__2:[{token:"punctuation",regex:"(\\])",next:"pop"},{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"(\\?\\?.+?\\?\\?)"},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__3:[{token:"punctuation",regex:"(})",next:"pop"},{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"(\\?\\?.+?\\?\\?)"},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],barlist__1:[{token:"punctuation",regex:"($)",next:"pop"},{token:"escape",regex:"(\\\\[\"'\\\\n])"},{token:"escape",regex:"(\\\\\\()",push:"escape__1"},{token:"string",regex:"([^\\\\]+)"},{defaultToken:"text"}],escape__1:[{token:"escape",regex:"(\\))",next:"pop"},{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"(\\?\\?.+?\\?\\?)"},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],multi_line_comment__1:[{token:"comment",regex:"(\\*/)",next:"pop"},{defaultToken:"comment"}],multi_line_comment__2:[{token:"comment",regex:"(--\\])",next:"pop"},{defaultToken:"comment"}],string__1:[{token:"punctuation",regex:'(\\")',next:"pop"},{token:"escape",regex:"(\\\\[\"'\\\\n])"},{token:"escape",regex:"(\\\\\\()",push:"escape__1"},{token:"string",regex:'([^"\\\\]+)'},{defaultToken:"text"}],string__2:[{token:"punctuation",regex:"(\\')",next:"pop"},{token:"escape",regex:"(\\\\[\"'\\\\n])"},{token:"escape",regex:"(\\\\\\()",push:"escape__1"},{token:"string",regex:"([^'\\\\]+)"},{defaultToken:"text"}]},this.normalizeRules()};o.inherits(r,a),t.ScplHighlightRules=r}),a.a.define("ace/mode/scpl",["ace/mode/scpl_highlight_rules"],function(e,t,n){var o=e("ace/lib/oop"),a=e("ace/mode/text").Mode,r=e("ace/mode/scpl_highlight_rules").ScplHighlightRules,i=function(){this.HighlightRules=r};o.inherits(i,a),function(){}.call(i.prototype),t.Mode=i})},384:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(56),i=n.n(r),l=(n(69),n(57));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(l.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}),window.onbeforeunload=function(){return!0}},57:function(e,t,n){"use strict";(function(e){var o,a=n(20),r=n(21),i=n(24),l=n(22),c=n(25),s=n(0),u=n.n(s),m=n(23),p=(n(115),n(63)),d=n(59),g=n.n(d),h=n(60),k=n(9),_=n.n(k),f=(n(118),n(61)),x=n.n(f),v=n(62),w=n.n(v),b=_.a.acequire("ace/range").Range,E=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){return this.props.children}}]),t}(s.Component),C=function(e){function t(){return Object(a.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("a",{href:"javascript:;",id:"download-shortcut-link",onClick:function(t){return e.onClick(t)}},this.props.children)}},{key:"fakeClick",value:function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}},{key:"exportRaw",value:function(e,t){var n=window.URL||window.webkitURL||window,o=new Blob([t]);if("msSaveBlob"in navigator)navigator.msSaveBlob(o,e);else if("download"in HTMLAnchorElement.prototype){var a=document.createElementNS("http://www.w3.org/1999/xhtml","a");a.href=n.createObjectURL(o),a.download=e,this.fakeClick(a)}else alert("Downloading shortcuts is not available on this browser yet :(\nIt should be implemented within a few days from a few days from a while from now.")}},{key:"onClick",value:function(e){this.props.file&&this.exportRaw(this.props.filename,this.props.file)}}]),t}(s.Component),y=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(i.a)(this,Object(l.a)(n).call(this,e))).reactAceComponentRef=void 0,t.state={fileValue:'ShowResult "Hello ScPL"',shortcutData:h,shortcutDownload:void 0,annotations:[],markers:[],loading:!1,took:{waitedFor:0,convertedIn:0},fullUpdate:!0,mobileFilemenu:!1,openDownload:!1},t.reactAceComponentRef=u.a.createRef(),t}return Object(c.a)(n,t),Object(r.a)(n,[{key:"render",value:function(){var e=this;return u.a.createElement(p.a,{onDrop:this.onDrop.bind(this)},function(t){var n=t.getRootProps,o=t.getInputProps;return u.a.createElement("div",null,u.a.createElement("div",{className:"upload-area",style:{display:"none"}},u.a.createElement("div",null,"Drop file anywhere to upload")),u.a.createElement("div",{className:"modals-container",style:{display:e.state.openDownload?"flex":"none"},onClick:function(){return e.setState({fullUpdate:!1,openDownload:!1})}},u.a.createElement("div",{className:"modal",id:"download-result",style:{display:e.state.openDownload?"block":"none"},onClick:function(e){return e.stopPropagation()}},u.a.createElement("h1",null,"Download Export"),u.a.createElement("div",{className:"download-grid"},u.a.createElement("div",null,u.a.createElement(C,{filename:e.state.shortcutData._filename||"download.shortcut",file:e.state.shortcutDownload},u.a.createElement("img",{src:g.a,width:130}),u.a.createElement("div",{className:"shortcut-filename"},"download.shortcut"),u.a.createElement("div",{className:"shortcut-filedetails"},"5 KB"))),u.a.createElement("div",null,u.a.createElement("p",null,"Add to your library via QR Code:"),u.a.createElement("div",{id:"qr-result"},"Not available yet :("),u.a.createElement("p",{className:"details-text"},"Open your Camera app and point it steady for 2-3 seconds at this QR Code.",u.a.createElement("br",null),u.a.createElement("br",null),"If nothing happens, QR Code scanning may not be enabled on your device."))),u.a.createElement("div",{className:"large-btn",id:"close-download",onClick:function(){return e.setState({fullUpdate:!1,openDownload:!1})}},"Done"))),u.a.createElement("div",{className:"editor-window"},u.a.createElement("div",{className:"editor-navigation"},u.a.createElement("div",{className:"mobile-filemenu".concat(e.state.mobileFilemenu?" open-filemenu":""),style:{display:"none"},onClick:function(){return e.setState({fullUpdate:!1,mobileFilemenu:!e.state.mobileFilemenu})}}),u.a.createElement("div",null,u.a.createElement("div",{className:"editor-title"},"ScPL Try-It Editor"),u.a.createElement("div",{className:"editor-btn"},u.a.createElement("a",{href:"https://docs.scpl.dev/gettingstarted.html",target:"_blank"},"Getting Started")),u.a.createElement("div",{className:"editor-btn"},u.a.createElement("a",{href:"https://docs.scpl.dev/",target:"_blank"},"Documentation"))),u.a.createElement("div",null,u.a.createElement("div",{className:"result-details"},u.a.createElement("div",{className:"result-actions"},e.state.shortcutData[0].WFWorkflowActions.length," ","action",1===e.state.shortcutData[0].WFWorkflowActions.length?"":"s")),u.a.createElement("div",{className:"editor-btn primary-btn",id:"open-download",onClick:function(){return e.setState({fullUpdate:!1,openDownload:!0})}},u.a.createElement("a",{href:"javascript:;"},"Download")))),u.a.createElement("div",{className:"editor-container"},u.a.createElement("div",{className:"file-pane".concat(e.state.mobileFilemenu?" open-menu":"")},u.a.createElement("h2",null,"Files"),u.a.createElement("input",{type:"search",className:"search-input",placeholder:"Search"}),u.a.createElement("div",Object.assign({className:"large-btn upload-btn"},n()),u.a.createElement("input",o()),"Upload Shortcut"),u.a.createElement("div",{className:"file-list"},u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("div",{className:"name-container"},"Files are not done yet"))))),u.a.createElement("div",{className:"code-pane"},u.a.createElement(x.a,{mode:"scpl",theme:"github",onChange:e.onChange.bind(e),name:"ace_editor",editorProps:{$blockScrolling:!0},value:e.state.fileValue||"",annotations:e.state.annotations,markers:e.state.markers,ref:e.reactAceComponentRef,showPrintMargin:!1})),u.a.createElement("div",{className:"result-pane".concat(e.state.loading?" loading":"")},u.a.createElement("div",{className:"result-text"},"Waited for ",e.state.took.waitedFor,"ms and then converted in ",e.state.took.convertedIn," ms."),u.a.createElement(E,{shouldUpdate:e.state.fullUpdate},u.a.createElement(w.a,{onInteract:function(t){return e.onActionSelect(t)},data:e.state.shortcutData})),u.a.createElement("div",{className:"loading-result-progress"},u.a.createElement("div",null,u.a.createElement("div",{className:"load"})))))))})}},{key:"onDrop",value:function(t,n,o){var a=this,r=new FileReader;r.onabort=function(){return alert("file reading was aborted")},r.onerror=function(){return alert("file reading has failed")},r.onload=function(){var t=new e(r.result);a.onChange(Object(m.inverse)(t))},t.forEach(function(e){return r.readAsArrayBuffer(e)})}},{key:"onActionSelect",value:function(e){if(e.actionData.SCPLData){var t=e.actionData.SCPLData,n=this.reactAceComponentRef.current;if(!n)return void console.log("reactacecomponent is not yet defined");var o=n.editor,a=t.Position.start[0],r=t.Position.start[1]-1;o.gotoLine(a,r,!0),o.selection.setRange(new b(t.Position.start[0]-1,t.Position.start[1]-1,t.Position.end[0]-1,t.Position.end[1]-1),!0)}}},{key:"onChange",value:function(e){var t=this,n=Math.max(4*this.state.took.convertedIn,100);this.state.loading||this.setState({fileValue:e,loading:!0,fullUpdate:!1}),o&&clearTimeout(o),o=setTimeout(function(){return t.onChangeLimited(e,n)},n)}},{key:"onChangeLimited",value:function(e,t){var n,o=(new Date).getTime();try{n=Object(m.parse)(e,{make:["shortcutjson","shortcutplist"]})}catch(l){if(console.log(l.message),!(l instanceof m.PositionedError))throw l;return void this.setState({fileValue:e,loading:!1,shortcutDownload:void 0,took:{waitedFor:t,convertedIn:(new Date).getTime()-o},fullUpdate:!0,annotations:[{row:l.start[0]-1,column:l.start[1]-1,text:l.message,type:"error"}],markers:[{startRow:l.start[0]-1,endRow:l.end[0]-1,startCol:l.start[1]-1,endCol:l.end[1]-1,className:"ace_active-line error",type:"background"}]})}var a=n,r=a.shortcutjson,i=a.shortcutplist;this.setState({fileValue:e,took:{waitedFor:t,convertedIn:(new Date).getTime()-o},loading:!1,fullUpdate:!0,shortcutData:r,annotations:[],markers:[],shortcutDownload:i})}}]),n}(s.Component);t.a=y}).call(this,n(3).Buffer)},59:function(e,t,n){e.exports=n.p+"static/media/shortcut-file.b2af5d42.png"},60:function(e){e.exports=[{WFWorkflowClientVersion:"754",WFWorkflowClientRelese:"2.1.2",WFWorkflowMinimumClientVersion:411,WFWorkflowIcon:{WFWorkflowIconStartColor:2071128575,WFWorkflowIconImageData:{type:"Buffer",data:[]},WFWorkflowIconGlyphNumber:59511},WFWorkflowTypes:["NCWidget","WatchKit"],WFWorkflowInputContentItemClasses:["WFAppStoreAppContentItem","WFArticleContentItem","WFContactContentItem","WFDateContentItem","WFEmailAddressContentItem","WFGenericFileContentItem","WFImageContentItem","WFiTunesProductContentItem","WFLocationContentItem","WFDCMapsLinkContentItem","WFAVAssetContentItem","WFPDFContentItem","WFPhoneNumberContentItem","WFRichTextContentItem","WFSafariWebPageContentItem","WFStringContentItem","WFURLContentItem"],WFWorkflowActions:[{WFWorkflowActionIdentifier:"is.workflow.actions.showresult",WFWorkflowActionParameters:{UUID:"c47f4d71-321c-41fc-86c2-f8b7aef06409",Text:"Hello ScPL"}}]}]},64:function(e,t,n){e.exports=n(384)},69:function(e,t,n){},98:function(e,t){}},[[64,1,2]]]);
//# sourceMappingURL=main.dafd3144.chunk.js.map