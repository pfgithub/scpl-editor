{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _taggedTemplateLiteral = require(\"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/taggedTemplateLiteral\");\n\nvar _slicedToArray = require(\"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nfunction _templateObject52() {\n  var data = _taggedTemplateLiteral([\")\"]);\n\n  _templateObject52 = function _templateObject52() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject51() {\n  var data = _taggedTemplateLiteral([\"(\"]);\n\n  _templateObject51 = function _templateObject51() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject50() {\n  var data = _taggedTemplateLiteral([\".\"]);\n\n  _templateObject50 = function _templateObject50() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject49() {\n  var data = _taggedTemplateLiteral([\":\"]);\n\n  _templateObject49 = function _templateObject49() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject48() {\n  var data = _taggedTemplateLiteral([\":\"]);\n\n  _templateObject48 = function _templateObject48() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject47() {\n  var data = _taggedTemplateLiteral([\":\"]);\n\n  _templateObject47 = function _templateObject47() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject46() {\n  var data = _taggedTemplateLiteral([\"=\"]);\n\n  _templateObject46 = function _templateObject46() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject45() {\n  var data = _taggedTemplateLiteral([\"}\"]);\n\n  _templateObject45 = function _templateObject45() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject44() {\n  var data = _taggedTemplateLiteral([\":or:\"]);\n\n  _templateObject44 = function _templateObject44() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject43() {\n  var data = _taggedTemplateLiteral([\"|\"]);\n\n  _templateObject43 = function _templateObject43() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject42() {\n  var data = _taggedTemplateLiteral([\":filter{\"]);\n\n  _templateObject42 = function _templateObject42() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject41() {\n  var data = _taggedTemplateLiteral([\"}\"]);\n\n  _templateObject41 = function _templateObject41() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject40() {\n  var data = _taggedTemplateLiteral([\":and:\"]);\n\n  _templateObject40 = function _templateObject40() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject39() {\n  var data = _taggedTemplateLiteral([\"&\"]);\n\n  _templateObject39 = function _templateObject39() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject38() {\n  var data = _taggedTemplateLiteral([\":filter{\"]);\n\n  _templateObject38 = function _templateObject38() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject37() {\n  var data = _taggedTemplateLiteral([\"]\"]);\n\n  _templateObject37 = function _templateObject37() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject36() {\n  var data = _taggedTemplateLiteral([\"[\"]);\n\n  _templateObject36 = function _templateObject36() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject35() {\n  var data = _taggedTemplateLiteral([\"}\"]);\n\n  _templateObject35 = function _templateObject35() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject34() {\n  var data = _taggedTemplateLiteral([\">\"]);\n\n  _templateObject34 = function _templateObject34() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject33() {\n  var data = _taggedTemplateLiteral([\"<\"]);\n\n  _templateObject33 = function _templateObject33() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject32() {\n  var data = _taggedTemplateLiteral([\"{\"]);\n\n  _templateObject32 = function _templateObject32() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject31() {\n  var data = _taggedTemplateLiteral([\"=\"]);\n\n  _templateObject31 = function _templateObject31() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject30() {\n  var data = _taggedTemplateLiteral([\"^\"]);\n\n  _templateObject30 = function _templateObject30() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject29() {\n  var data = _taggedTemplateLiteral([\"}\"]);\n\n  _templateObject29 = function _templateObject29() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject28() {\n  var data = _taggedTemplateLiteral([\"a{\"]);\n\n  _templateObject28 = function _templateObject28() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject27() {\n  var data = _taggedTemplateLiteral([\")\"]);\n\n  _templateObject27 = function _templateObject27() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject26() {\n  var data = _taggedTemplateLiteral([\"(\"]);\n\n  _templateObject26 = function _templateObject26() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject25() {\n  var data = _taggedTemplateLiteral([\"}\"]);\n\n  _templateObject25 = function _templateObject25() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject24() {\n  var data = _taggedTemplateLiteral([\"@{\"]);\n\n  _templateObject24 = function _templateObject24() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject23() {\n  var data = _taggedTemplateLiteral([\"=\"]);\n\n  _templateObject23 = function _templateObject23() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject22() {\n  var data = _taggedTemplateLiteral([\"=>\"]);\n\n  _templateObject22 = function _templateObject22() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject21() {\n  var data = _taggedTemplateLiteral([\"->\"]);\n\n  _templateObject21 = function _templateObject21() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject20() {\n  var data = _taggedTemplateLiteral([\">\"]);\n\n  _templateObject20 = function _templateObject20() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject19() {\n  var data = _taggedTemplateLiteral([\"|\"]);\n\n  _templateObject19 = function _templateObject19() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject18() {\n  var data = _taggedTemplateLiteral([\"`\"], [\"\\\\`\"]);\n\n  _templateObject18 = function _templateObject18() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject17() {\n  var data = _taggedTemplateLiteral([\"`\"], [\"\\\\`\"]);\n\n  _templateObject17 = function _templateObject17() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject16() {\n  var data = _taggedTemplateLiteral([\"\\u201D\"]);\n\n  _templateObject16 = function _templateObject16() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject15() {\n  var data = _taggedTemplateLiteral([\"\\u201C\"]);\n\n  _templateObject15 = function _templateObject15() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject14() {\n  var data = _taggedTemplateLiteral([\"'\"]);\n\n  _templateObject14 = function _templateObject14() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject13() {\n  var data = _taggedTemplateLiteral([\"'\"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = _taggedTemplateLiteral([\"\\\"\"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject11() {\n  var data = _taggedTemplateLiteral([\"\\\"\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\u201D\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\\\\"], [\"\\\\\\\\\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"`\"], [\"\\\\`\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"```\"], [\"\\\\`\\\\`\\\\`\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"'\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\\"\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\\\\"], [\"\\\\\\\\\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\";\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n\"], [\"\\\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ParserData_1 = require(\"./ParserData\");\n\nvar ParserHelper_1 = require(\"./ParserHelper\");\n\nParserHelper_1.o.identifier = ParserHelper_1.regex(/^[A-Za-z@_][A-Za-z0-9@_]*/).scb(function (_ref, start, end) {\n  var _ref2 = _slicedToArray(_ref, 1),\n      fullmatch = _ref2[0];\n\n  return new ParserData_1.IdentifierParse(start, end, fullmatch);\n});\nParserHelper_1.o.newline = ParserHelper_1.p(ParserHelper_1.o.space, ParserHelper_1.plus(ParserHelper_1.p(ParserHelper_1.o.space, ParserHelper_1.or(ParserHelper_1.c(_templateObject()), ParserHelper_1.c(_templateObject2())))), ParserHelper_1.o.space).scb(function (_) {\n  return null;\n});\nParserHelper_1.o.multilineComment = ParserHelper_1.or(ParserHelper_1.regex(/^--\\[\\[[\\s\\S]+?--\\]\\]/), // --[[ Lua style multiline comments --]]\nParserHelper_1.regex(/^\\/\\*[\\s\\S]+?\\*\\//) // /* CLike multiline comments*/\n).scb(function (_) {\n  return null;\n});\nParserHelper_1.o.eolComment = ParserHelper_1.or(ParserHelper_1.regex(/^\\/\\/.*/), // // CLike single line comments\nParserHelper_1.regex(/^--.*/), // -- Lua style single line comments\nParserHelper_1.regex(/^#.*/) // # Python style single line comments\n); // or --\n\nParserHelper_1.o.spaceonly = ParserHelper_1.regex(/^[ ,\\r\\t]*/).scb(function (_) {\n  return null;\n});\nParserHelper_1.o.space = ParserHelper_1.p(ParserHelper_1.o.spaceonly, ParserHelper_1.optional(ParserHelper_1.o.multilineComment), ParserHelper_1.o.spaceonly, ParserHelper_1.optional(ParserHelper_1.o.eolComment)).scb(function (_) {\n  return null;\n});\nParserHelper_1.o.optionalNewline = ParserHelper_1.star(ParserHelper_1.or(ParserHelper_1.o.newline, ParserHelper_1.o.space)).scb(function () {\n  return null;\n});\nvar _ = ParserHelper_1.o.space;\nvar newline = ParserHelper_1.o.newline;\nvar _n = ParserHelper_1.o.optionalNewline;\nParserHelper_1.o.number = ParserHelper_1.regex(/^-?(?:[0-9]*\\.[0-9]+|[0-9]+)/).scb(function (_ref3, start, end) {\n  var _ref4 = _slicedToArray(_ref3, 1),\n      fullmatch = _ref4[0];\n\n  return new ParserData_1.NumberParse(start, end, fullmatch);\n});\nParserHelper_1.o.escape = ParserHelper_1.p(ParserHelper_1.c(_templateObject3()), ParserHelper_1.or(ParserHelper_1.o.parenthesis, ParserHelper_1.c(_templateObject4()), ParserHelper_1.c(_templateObject5()), ParserHelper_1.c(_templateObject6()), ParserHelper_1.c(_templateObject7()), ParserHelper_1.c(_templateObject8()), ParserHelper_1.c(_templateObject9()), ParserHelper_1.c(_templateObject10()).scb(function (_) {\n  return \"\\n\";\n}), ParserHelper_1.error(ParserHelper_1.regex(/.?/), function (v) {\n  return \"Did you mean `\\\\\\\\`? The character `\".concat(v[0], \"` is not a valid escape sequence. See the docs page on string escapes for more info.\");\n}))).scb(function (_ref5) {\n  var _ref6 = _slicedToArray(_ref5, 2),\n      val = _ref6[1];\n\n  return val;\n}); // o.tripleQuotedStringEscape = p(\n// \tc`\\\\`,\n// \tor(o.parenthesis, c`\"`, c`'`, c`\\`\\`\\``, c`\\\\`, c`”`, c`n`.scb(_ => \"\\n\"))\n// ).scb(([, val]) => val);\n// \\\"\n\nParserHelper_1.o.char = ParserHelper_1.or(ParserHelper_1.o.escape, ParserHelper_1.regex(/^[^\\\\\\n]+/).scb(function (data) {\n  return data[0];\n}));\nParserHelper_1.o.chars = ParserHelper_1.star(ParserHelper_1.o.char).scb(function (data, start, end) {\n  return new ParserData_1.CharsParse(start, end, data);\n});\nParserHelper_1.o.dquotedStringChar = ParserHelper_1.or(ParserHelper_1.o.escape, ParserHelper_1.regex(/^[^\"\\\\\\n]+/).scb(function (data) {\n  return data[0];\n}));\nParserHelper_1.o.squotedStringChar = ParserHelper_1.or(ParserHelper_1.o.escape, ParserHelper_1.regex(/^[^'\\\\\\n]+/).scb(function (data) {\n  return data[0];\n}));\nParserHelper_1.o.smartQuotedStringChar = ParserHelper_1.or(ParserHelper_1.o.escape, ParserHelper_1.regex(/^[^”\\\\\\n]+/).scb(function (data) {\n  return data[0];\n}));\nParserHelper_1.o.backtickQuotedStringChar = ParserHelper_1.or(ParserHelper_1.o.escape, ParserHelper_1.regex(/^[^`\\\\]+/).scb(function (data) {\n  return data[0];\n})); // o.triplequotedStringChar = or(\n// \to.tripleQuotedStringEscape, // \\``` | ${varname}\n// \tregex(/^[^`\\\\\\n]+/).scb(data => data[0]),\n// );\n\nParserHelper_1.o.dquotedString = ParserHelper_1.p(ParserHelper_1.c(_templateObject11()), ParserHelper_1.star(ParserHelper_1.o.dquotedStringChar), ParserHelper_1.c(_templateObject12())).scb(function (_ref7, start, end) {\n  var _ref8 = _slicedToArray(_ref7, 2),\n      chars = _ref8[1];\n\n  return new ParserData_1.CharsParse(start, end, chars);\n});\nParserHelper_1.o.squotedString = ParserHelper_1.p(ParserHelper_1.c(_templateObject13()), ParserHelper_1.star(ParserHelper_1.o.squotedStringChar), ParserHelper_1.c(_templateObject14())).scb(function (_ref9, start, end) {\n  var _ref10 = _slicedToArray(_ref9, 2),\n      chars = _ref10[1];\n\n  return new ParserData_1.CharsParse(start, end, chars);\n});\nParserHelper_1.o.smartQuotedString = ParserHelper_1.p(ParserHelper_1.c(_templateObject15()), ParserHelper_1.star(ParserHelper_1.o.smartQuotedStringChar), ParserHelper_1.c(_templateObject16())).scb(function (_ref11, start, end) {\n  var _ref12 = _slicedToArray(_ref11, 2),\n      chars = _ref12[1];\n\n  return new ParserData_1.CharsParse(start, end, chars);\n});\nParserHelper_1.o.backtickQuotedString = ParserHelper_1.p(ParserHelper_1.c(_templateObject17()), ParserHelper_1.star(ParserHelper_1.o.backtickQuotedStringChar), ParserHelper_1.c(_templateObject18())).scb(function (_ref13, start, end) {\n  var _ref14 = _slicedToArray(_ref13, 2),\n      chars = _ref14[1];\n\n  return new ParserData_1.CharsParse(start, end, chars);\n}); // o.triplequotedString = p(c`\\`\\`\\``, star(o.triplequotedStringChar), c`\\`\\`\\``).scb(\n// \t([, chars], start, end) => new CharsParse(start, end, chars)\n// );\n// o.tripleQuotedStringChar = or(regex(/^[^`]+/));\n//\n// o.triplequotedString = p(\n// \tc`\\`\\`\\``,\n// \tnewline,\n// \tstar(o.tripleQuotedStringChar),\n// \tc`\\`\\`\\``\n// );\n\nParserHelper_1.o.string = ParserHelper_1.or(ParserHelper_1.o.dquotedString, ParserHelper_1.o.squotedString, ParserHelper_1.o.smartQuotedString, ParserHelper_1.o.backtickQuotedString);\nParserHelper_1.o.barlistitem = ParserHelper_1.p(newline, _, ParserHelper_1.c(_templateObject19()), _, ParserHelper_1.o.chars).scb(function (_ref15) {\n  var _ref16 = _slicedToArray(_ref15, 5),\n      dat = _ref16[4];\n\n  return dat;\n});\nParserHelper_1.o.barlist = ParserHelper_1.plus(ParserHelper_1.o.barlistitem).scb(function (items, start, end) {\n  return new ParserData_1.BarlistParse(start, end, items);\n});\nParserHelper_1.o.extendedarg = ParserHelper_1.p(newline, _, ParserHelper_1.c(_templateObject20()), _, ParserHelper_1.o.argument).scb(function (_ref17) {\n  var _ref18 = _slicedToArray(_ref17, 5),\n      arg = _ref18[4];\n\n  return arg;\n});\nParserHelper_1.o.argflagarrow = ParserHelper_1.or(ParserHelper_1.c(_templateObject21()), ParserHelper_1.c(_templateObject22())).scb(function (_) {\n  return null;\n});\nParserHelper_1.o.argflag = ParserHelper_1.p(ParserHelper_1.o.argflagarrow, _, ParserHelper_1.o.variable).scb(function (_ref19, start, end) {\n  var _ref20 = _slicedToArray(_ref19, 3),\n      variable = _ref20[2];\n\n  return new ParserData_1.VariableFlagParse(start, end, variable);\n});\nParserHelper_1.o.namedargument = ParserHelper_1.p(ParserHelper_1.o.identifier, _, ParserHelper_1.c(_templateObject23()), _, ParserHelper_1.o.value).scb(function (_ref21, start, end) {\n  var _ref22 = _slicedToArray(_ref21, 5),\n      key = _ref22[0],\n      value = _ref22[4];\n\n  return new ParserData_1.ArglistParse(start, end, [{\n    key: key,\n    value: value\n  }]);\n});\nParserHelper_1.o.errorparse = ParserHelper_1.regex(/^\\?\\?(.+?)\\?\\?/).scb(function (_ref23, start, end) {\n  var _ref24 = _slicedToArray(_ref23, 1),\n      message = _ref24[0];\n\n  return new ParserData_1.ErrorParse(start, end, message);\n});\nParserHelper_1.o.argument = ParserHelper_1.or(ParserHelper_1.o.arglist, // arglist should be removed.\nParserHelper_1.o.namedargument, ParserHelper_1.o.value, ParserHelper_1.o.inputarg, ParserHelper_1.o.barlist, ParserHelper_1.o.argflag, ParserHelper_1.o.arglistparenthesis, ParserHelper_1.o.extendedarg, ParserHelper_1.o.errorparse // if something reaches the end of this without matching anything we can probably error right here rather than going all the way back up to an actionsparse\n);\nParserHelper_1.o.macroBlock = ParserHelper_1.p(ParserHelper_1.c(_templateObject24()), ParserHelper_1.o.actions, ParserHelper_1.c(_templateObject25())).scb(function (_ref25) {\n  var _ref26 = _slicedToArray(_ref25, 2),\n      actions = _ref26[1];\n\n  return actions;\n});\nParserHelper_1.o.action = ParserHelper_1.or(ParserHelper_1.o.flaggedaction, ParserHelper_1.o.variable, ParserHelper_1.o.onlyaction);\nParserHelper_1.o.arglistparenthesis = ParserHelper_1.p(ParserHelper_1.c(_templateObject26()), ParserHelper_1.star(ParserHelper_1.p(_n, ParserHelper_1.o.keyvaluepair, _n).scb(function (_ref27) {\n  var _ref28 = _slicedToArray(_ref27, 2),\n      v = _ref28[1];\n\n  return v;\n})), ParserHelper_1.c(_templateObject27())).scb(function (_ref29, start, end) {\n  var _ref30 = _slicedToArray(_ref29, 2),\n      kvps = _ref30[1];\n\n  return new ParserData_1.ArglistParse(start, end, kvps);\n}); // (a:b, a=b)\n\nParserHelper_1.o.arglist = ParserHelper_1.p(ParserHelper_1.c(_templateObject28()), ParserHelper_1.star(ParserHelper_1.p(_, ParserHelper_1.o.keyvaluepair, _).scb(function (_ref31) {\n  var _ref32 = _slicedToArray(_ref31, 2),\n      v = _ref32[1];\n\n  return v;\n})), ParserHelper_1.c(_templateObject29())).scb(function (_ref33, start, end) {\n  var _ref34 = _slicedToArray(_ref33, 2),\n      kvps = _ref34[1];\n\n  return new ParserData_1.ArglistParse(start, end, kvps);\n});\nParserHelper_1.o.inputarg = ParserHelper_1.p(ParserHelper_1.c(_templateObject30()), ParserHelper_1.or(ParserHelper_1.o.parenthesis, ParserHelper_1.o.variable)).scb(function (_ref35) {\n  var _ref36 = _slicedToArray(_ref35, 2),\n      paren = _ref36[1];\n\n  paren.special = \"InputArg\";\n  return paren;\n});\nParserHelper_1.o.flaggedaction = ParserHelper_1.p(ParserHelper_1.o.variable, _, ParserHelper_1.c(_templateObject31()), _, ParserHelper_1.o.onlyaction).scb(function (_ref37, start, end) {\n  var _ref38 = _slicedToArray(_ref37, 5),\n      variable = _ref38[0],\n      action = _ref38[4];\n\n  if (action.variable) {\n    throw new ParserData_1.PositionedError(\"Actions cannot output to multiple variables\", start, end);\n  }\n\n  action.variable = variable;\n  return action;\n});\nParserHelper_1.o.onlyaction = ParserHelper_1.p(ParserHelper_1.o.identifier, _, ParserHelper_1.o.args).scb(function (_ref39, start, end) {\n  var _ref40 = _slicedToArray(_ref39, 3),\n      actionIdentifier = _ref40[0],\n      _ = _ref40[1],\n      args = _ref40[2];\n\n  var flags = [];\n  args = args.filter(function (arg) {\n    return arg && arg instanceof ParserData_1.VariableFlagParse ? flags.push(arg) && false : true;\n  });\n\n  if (flags.length > 1) {\n    throw new ParserData_1.PositionedError(\"Actions cannot output to multiple variables\", start, end);\n  }\n\n  var res = {\n    type: \"action\",\n    action: actionIdentifier,\n    args: args\n  };\n\n  if (flags[0]) {\n    res.variable = flags[0].variable;\n  } // @ts-ignore\n\n\n  var actionParse = new ParserData_1.ActionParse(start, end, res.action, res.args, res.variable);\n  return actionParse;\n});\nParserHelper_1.o.args = ParserHelper_1.star(ParserHelper_1.p(ParserHelper_1.o.argument, _).scb(function (data) {\n  return data[0];\n}));\nParserHelper_1.o.value = ParserHelper_1.or(ParserHelper_1.o.variable, ParserHelper_1.o.string, ParserHelper_1.o.number, ParserHelper_1.o.macroBlock, ParserHelper_1.o.identifier, ParserHelper_1.o.parenthesis, ParserHelper_1.o.dictionary, ParserHelper_1.o.list, ParserHelper_1.o.filter);\nParserHelper_1.o.dictionary = ParserHelper_1.p(ParserHelper_1.c(_templateObject32()), _n, //  [ [  ,         [  [   ,     id       ,     ]] , item         ]]\nParserHelper_1.star(ParserHelper_1.p(_n, ParserHelper_1.optional(ParserHelper_1.p(ParserHelper_1.c(_templateObject33()), ParserHelper_1.o.identifier, ParserHelper_1.c(_templateObject34())).scb(function (_ref41) {\n  var _ref42 = _slicedToArray(_ref41, 2),\n      m = _ref42[1];\n\n  return m;\n})).scb(function (_ref43) {\n  var _ref44 = _slicedToArray(_ref43, 1),\n      a = _ref44[0];\n\n  return a;\n}), ParserHelper_1.o.keyvaluepair)).scb(function (items) {\n  return items.map(function (item) {\n    var _item = _slicedToArray(item, 3),\n        type = _item[1],\n        kvp = _item[2];\n\n    kvp.type = type;\n    return kvp;\n  });\n}), _n, ParserHelper_1.c(_templateObject35())).scb(function (_ref45, start, end) {\n  var _ref46 = _slicedToArray(_ref45, 3),\n      kvps = _ref46[2];\n\n  return new ParserData_1.DictionaryParse(start, end, kvps);\n});\nParserHelper_1.o.list = ParserHelper_1.p(ParserHelper_1.c(_templateObject36()), _n, ParserHelper_1.star(ParserHelper_1.p(ParserHelper_1.o.value, _n).scb(function (_ref47) {\n  var _ref48 = _slicedToArray(_ref47, 1),\n      value = _ref48[0];\n\n  return value;\n})), ParserHelper_1.c(_templateObject37())).scb(function (_ref49, start, end) {\n  var _ref50 = _slicedToArray(_ref49, 3),\n      values = _ref50[2];\n\n  return new ParserData_1.ListParse(start, end, values);\n});\nParserHelper_1.o.filter = ParserHelper_1.or(ParserHelper_1.o.filterand, ParserHelper_1.o.filteror);\nParserHelper_1.o.filterand = ParserHelper_1.p(ParserHelper_1.c(_templateObject38()), _n, ParserHelper_1.star(ParserHelper_1.p(_n, ParserHelper_1.o.filteritem, _n, ParserHelper_1.or(ParserHelper_1.c(_templateObject39()), ParserHelper_1.c(_templateObject40())), _n).scb(function (_ref51) {\n  var _ref52 = _slicedToArray(_ref51, 2),\n      item = _ref52[1];\n\n  return item;\n})), ParserHelper_1.o.filteritem, _n, ParserHelper_1.c(_templateObject41())).scb(function (_ref53, start, end) {\n  var _ref54 = _slicedToArray(_ref53, 4),\n      filterItems = _ref54[2],\n      lastFilterItem = _ref54[3];\n\n  return new ParserData_1.FilterParse(start, end, \"and\", [].concat(_toConsumableArray(filterItems), [lastFilterItem]));\n});\nParserHelper_1.o.filteror = ParserHelper_1.p(ParserHelper_1.c(_templateObject42()), _n, ParserHelper_1.star(ParserHelper_1.p(_n, ParserHelper_1.o.filteritem, _n, ParserHelper_1.or(ParserHelper_1.c(_templateObject43()), ParserHelper_1.c(_templateObject44())), _n).scb(function (_ref55) {\n  var _ref56 = _slicedToArray(_ref55, 2),\n      item = _ref56[1];\n\n  return item;\n})), ParserHelper_1.o.filteritem, _n, ParserHelper_1.c(_templateObject45())).scb(function (_ref57, start, end) {\n  var _ref58 = _slicedToArray(_ref57, 4),\n      filterItems = _ref58[2],\n      lastFilterItem = _ref58[3];\n\n  return new ParserData_1.FilterParse(start, end, \"or\", [].concat(_toConsumableArray(filterItems), [lastFilterItem]));\n}); // :filter{name is \"hello there\" :or: name \"starts with\" \"test\"}\n\nParserHelper_1.o.filteritem = ParserHelper_1.or(ParserHelper_1.p(ParserHelper_1.o.value, _n, ParserHelper_1.o.value, _n, ParserHelper_1.o.value, _n, ParserHelper_1.o.value).scb(function (_ref59, start, end) {\n  var _ref60 = _slicedToArray(_ref59, 7),\n      property = _ref60[0],\n      comparator = _ref60[2],\n      value = _ref60[4],\n      units = _ref60[6];\n\n  return new ParserData_1.FilterItemParse(start, end, property, comparator, value, units);\n}), ParserHelper_1.p(ParserHelper_1.o.value, _n, ParserHelper_1.o.value, _n, ParserHelper_1.o.value).scb(function (_ref61, start, end) {\n  var _ref62 = _slicedToArray(_ref61, 5),\n      property = _ref62[0],\n      comparator = _ref62[2],\n      value = _ref62[4];\n\n  return new ParserData_1.FilterItemParse(start, end, property, comparator, value);\n}));\nParserHelper_1.o.keyvaluepair = ParserHelper_1.p(_n, ParserHelper_1.or(ParserHelper_1.o.string, ParserHelper_1.o.identifier), _n, ParserHelper_1.or(ParserHelper_1.c(_templateObject46()), ParserHelper_1.c(_templateObject47())), _n, ParserHelper_1.o.value, // ...\n_n).scb(function (_ref63) {\n  var _ref64 = _slicedToArray(_ref63, 6),\n      key = _ref64[1],\n      value = _ref64[5];\n\n  return {\n    key: key,\n    value: value\n  };\n});\nParserHelper_1.o.variable = ParserHelper_1.p(ParserHelper_1.o.identifier, ParserHelper_1.c(_templateObject48()), ParserHelper_1.or(ParserHelper_1.o.identifier, ParserHelper_1.o.string, ParserHelper_1.o.errorparse), ParserHelper_1.optional(ParserHelper_1.p(ParserHelper_1.or(ParserHelper_1.c(_templateObject49()), ParserHelper_1.c(_templateObject50())), ParserHelper_1.or(ParserHelper_1.o.identifier, ParserHelper_1.o.string)).scb(function (_ref65) {\n  var _ref66 = _slicedToArray(_ref65, 2),\n      val = _ref66[1];\n\n  return val;\n})).scb(function (_ref67) {\n  var _ref68 = _slicedToArray(_ref67, 1),\n      val = _ref68[0];\n\n  return val;\n}), ParserHelper_1.optional(ParserHelper_1.o.dictionary).scb(function (_ref69) {\n  var _ref70 = _slicedToArray(_ref69, 1),\n      dict = _ref70[0];\n\n  return dict;\n})).scb(function (_ref71, start, end) {\n  var _ref72 = _slicedToArray(_ref71, 5),\n      type = _ref72[0],\n      name = _ref72[2],\n      forkey = _ref72[3],\n      options = _ref72[4];\n\n  if (type.value === \"@\") {\n    return new ParserData_1.ConvertVariableParse(start, end, name, options);\n  }\n\n  return new ParserData_1.VariableParse(start, end, type, name, forkey, options);\n});\nParserHelper_1.o.parenthesis = ParserHelper_1.p(ParserHelper_1.c(_templateObject51()), _n, ParserHelper_1.or(ParserHelper_1.o.action, ParserHelper_1.o.variable), _n, ParserHelper_1.c(_templateObject52())).scb(function (_ref73) {\n  var _ref74 = _slicedToArray(_ref73, 3),\n      actionOrVariable = _ref74[2];\n\n  return actionOrVariable;\n});\nParserHelper_1.o.actions = ParserHelper_1.p(_n, ParserHelper_1.star(ParserHelper_1.p(_n, ParserHelper_1.o.action, newline).scb(function (_ref75) {\n  var _ref76 = _slicedToArray(_ref75, 2),\n      action = _ref76[1];\n\n  return action;\n})), ParserHelper_1.optional(ParserHelper_1.p(_n, ParserHelper_1.o.action).scb(function (_ref77) {\n  var _ref78 = _slicedToArray(_ref77, 2),\n      action = _ref78[1];\n\n  return action;\n})), _n).scb(function (_ref79, start, end) {\n  var _ref80 = _slicedToArray(_ref79, 3),\n      v = _ref80[1],\n      e = _ref80[2];\n\n  return new ParserData_1.ActionsParse(start, end, e ? [].concat(_toConsumableArray(v), _toConsumableArray(e)) : v);\n});\nexports.default = ParserHelper_1.o.actions.getProd();","map":null,"metadata":{},"sourceType":"script"}