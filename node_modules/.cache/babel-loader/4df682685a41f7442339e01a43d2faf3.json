{"ast":null,"code":"import _classCallCheck from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/brandonjordan/Documents/GitHub/scpl-editor/src/FilePane.tsx\";\nimport React, { Component } from \"react\";\nimport Dropzone from \"react-dropzone\";\nimport { inverse } from \"scpl\";\nimport { CreateEditShortcut } from \"./CreateEditShortcut\";\nimport \"./FilePane.css\";\n\nvar ActionButtons =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ActionButtons, _Component);\n\n  function ActionButtons() {\n    _classCallCheck(this, ActionButtons);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(ActionButtons).apply(this, arguments));\n  }\n\n  _createClass(ActionButtons, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"action-btns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"delete-btn\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"edit-btn\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 26\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return ActionButtons;\n}(Component);\n\nvar FileComponent =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(FileComponent, _Component2);\n\n  function FileComponent() {\n    _classCallCheck(this, FileComponent);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileComponent).apply(this, arguments));\n  }\n\n  _createClass(FileComponent, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"li\", {\n        className: \"list-item-file\",\n        onClick: function onClick(e) {\n          e.stopPropagation();\n        },\n        title: this.props.data.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"load small\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }), this.props.data.name), React.createElement(ActionButtons, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return FileComponent;\n}(Component);\n\nvar FolderComponent =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(FolderComponent, _Component3);\n\n  function FolderComponent(props) {\n    var _this;\n\n    _classCallCheck(this, FolderComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(FolderComponent).call(this, props));\n    _this.state = {\n      expanded: false\n    };\n    return _this;\n  }\n\n  _createClass(FolderComponent, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"li\", {\n        className: \"list-item-folder \".concat(this.state.expanded ? \"open-folder\" : \"\"),\n        onClick: function onClick(e) {\n          _this2.setState({\n            expanded: !_this2.state.expanded\n          });\n\n          e.stopPropagation();\n        },\n        title: this.props.data.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"item-name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.props.data.name), React.createElement(ActionButtons, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(FileList, {\n        files: this.props.data.files,\n        searchTerm: this.props.searchTerm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return FolderComponent;\n}(Component); // sort:\n// a.order - b.order != 0 ? a.order - b.order\n// : a.name.localeCompare(b.name, undefined, {numeric: true})\n\n\nvar FileList =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(FileList, _Component4);\n\n  function FileList() {\n    _classCallCheck(this, FileList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(FileList).apply(this, arguments));\n  }\n\n  _createClass(FileList, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, this.props.files.map(function (file) {\n        if (file.type === \"file\") {\n          if (file.name.toLowerCase().indexOf(_this3.props.searchTerm.toLowerCase()) > -1) {\n            return React.createElement(FileComponent, {\n              key: file.name,\n              data: file,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 124\n              },\n              __self: this\n            });\n          }\n\n          return null;\n        }\n\n        return React.createElement(FolderComponent, {\n          key: file.name,\n          data: file,\n          searchTerm: _this3.props.searchTerm,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        });\n      }));\n    }\n  }]);\n\n  return FileList;\n}(Component);\n\nexport var FilePane =\n/*#__PURE__*/\nfunction (_Component5) {\n  _inherits(FilePane, _Component5);\n\n  function FilePane(props) {\n    var _this4;\n\n    _classCallCheck(this, FilePane);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(FilePane).call(this, props));\n    _this4.state = {\n      showFileModal: false,\n      searchTerm: \"\"\n    };\n    return _this4;\n  }\n\n  _createClass(FilePane, [{\n    key: \"onDrop\",\n    value: function onDrop(acceptedFiles, _rejectedFiles, _event) {\n      var _this5 = this;\n\n      var reader = new FileReader();\n\n      reader.onabort = function () {\n        return alert(\"file reading was aborted\");\n      };\n\n      reader.onerror = function () {\n        return alert(\"file reading has failed\");\n      };\n\n      reader.onload = function () {\n        // Do whatever you want with the file contents\n        var binaryStr = new Buffer(reader.result);\n        var inverted;\n\n        try {\n          inverted = inverse(binaryStr);\n        } catch (e) {\n          alert(\"An unhandled error occured while trying to convert shortcut -> scpl. The error is: \".concat(e.toString()));\n          throw new Error(e);\n        }\n\n        _this5.props.onActiveFileChanged(inverted);\n      };\n\n      acceptedFiles.forEach(function (file) {\n        return reader.readAsArrayBuffer(file);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, React.createElement(Dropzone, {\n        onDrop: this.onDrop.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, function (_ref) {\n        var getRootProps = _ref.getRootProps,\n            getInputProps = _ref.getInputProps;\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"files-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"file-btns\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, React.createElement(\"div\", Object.assign({\n          className: \"btn file-btn large-upload-btn upload-btn\",\n          style: {\n            gridColumn: \"1/4\"\n          }\n        }, getRootProps(), {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }), \"Upload Shortcut\", React.createElement(\"input\", Object.assign({}, getInputProps(), {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200\n          },\n          __self: this\n        }))), React.createElement(\"a\", {\n          href: \"javascript:;\",\n          onClick: function onClick() {\n            return _this6.setState({\n              showUploadShortcutModal: true\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, React.createElement(\"div\", Object.assign({\n          className: \"btn file-btn large-upload-btn upload-btn\",\n          style: {\n            gridColumn: \"1/4\"\n          }\n        }, getRootProps(), {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        }), \"Upload Shortcut\")))));\n      }), this.state.showFileModal ? React.createElement(CreateEditShortcut, {\n        onCancel: function onCancel() {\n          return _this6.setState({\n            showFileModal: false\n          });\n        },\n        onResult: function onResult(name, color, glyph) {\n          _this6.setState({\n            showFileModal: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return FilePane;\n}(Component);","map":{"version":3,"sources":["/Users/brandonjordan/Documents/GitHub/scpl-editor/src/FilePane.tsx"],"names":["React","Component","Dropzone","inverse","CreateEditShortcut","ActionButtons","e","stopPropagation","FileComponent","props","data","name","FolderComponent","state","expanded","setState","files","searchTerm","FileList","map","file","type","toLowerCase","indexOf","FilePane","showFileModal","acceptedFiles","_rejectedFiles","_event","reader","FileReader","onabort","alert","onerror","onload","binaryStr","Buffer","result","inverted","toString","Error","onActiveFileChanged","forEach","readAsArrayBuffer","onDrop","bind","getRootProps","getInputProps","gridColumn","showUploadShortcutModal","color","glyph"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Dropzone, { DropEvent } from \"react-dropzone\";\nimport { inverse } from \"scpl\";\n\nimport { CreateEditShortcut } from \"./CreateEditShortcut\";\n\nimport \"./FilePane.css\";\n\ntype FileData = { type: \"file\"; name: string };\ntype FolderData = {\n\ttype: \"folder\";\n\tname: string;\n\tfiles: (FileData | FolderData)[];\n};\n\nclass ActionButtons extends Component<{}> {\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"action-btns\">\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"delete-btn\"\n\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"edit-btn\"\n\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nclass FileComponent extends Component<{\n\tdata: FileData;\n}> {\n\trender() {\n\t\treturn (\n\t\t\t<li\n\t\t\t\tclassName=\"list-item-file\"\n\t\t\t\tonClick={e => {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}}\n\t\t\t\ttitle={this.props.data.name}\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"item-name\">\n\t\t\t\t\t\t<div className=\"load small\" />\n\t\t\t\t\t\t{this.props.data.name}\n\t\t\t\t\t</div>\n\t\t\t\t\t<ActionButtons />\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\nclass FolderComponent extends Component<\n\t{\n\t\tdata: FolderData;\n\t\tsearchTerm: string;\n\t},\n\t{\n\t\texpanded: boolean;\n\t}\n> {\n\tconstructor(\n\t\tprops: Readonly<{\n\t\t\tdata: FolderData;\n\t\t\tsearchTerm: string;\n\t\t}>\n\t) {\n\t\tsuper(props);\n\t\tthis.state = { expanded: false };\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<li\n\t\t\t\tclassName={`list-item-folder ${\n\t\t\t\t\tthis.state.expanded ? \"open-folder\" : \"\"\n\t\t\t\t}`}\n\t\t\t\tonClick={e => {\n\t\t\t\t\tthis.setState({ expanded: !this.state.expanded });\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}}\n\t\t\t\ttitle={this.props.data.name}\n\t\t\t>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"item-name\">{this.props.data.name}</div>\n\t\t\t\t\t<ActionButtons />\n\t\t\t\t</div>\n\t\t\t\t<FileList\n\t\t\t\t\tfiles={this.props.data.files}\n\t\t\t\t\tsearchTerm={this.props.searchTerm}\n\t\t\t\t/>\n\t\t\t</li>\n\t\t);\n\t}\n}\n\n// sort:\n// a.order - b.order != 0 ? a.order - b.order\n// : a.name.localeCompare(b.name, undefined, {numeric: true})\n\nclass FileList extends Component<{\n\tfiles: (FileData | FolderData)[];\n\tsearchTerm: string;\n}> {\n\trender() {\n\t\treturn (\n\t\t\t<ul>\n\t\t\t\t{this.props.files.map(file => {\n\t\t\t\t\tif (file.type === \"file\") {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tfile.name\n\t\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t\t.indexOf(this.props.searchTerm.toLowerCase()) >\n\t\t\t\t\t\t\t-1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<FileComponent key={file.name} data={file} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<FolderComponent\n\t\t\t\t\t\t\tkey={file.name}\n\t\t\t\t\t\t\tdata={file}\n\t\t\t\t\t\t\tsearchTerm={this.props.searchTerm}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t);\n\t}\n}\n\nexport class FilePane extends Component<\n\t{\n\t\tonActiveFileChanged: (fileContents: string) => void;\n\t\tfiles: (FileData | FolderData)[];\n\t},\n\t{\n\t\tshowFileModal: boolean;\n\t\tsearchTerm: string;\n\t}\n> {\n\tconstructor(\n\t\tprops: Readonly<{\n\t\t\tonActiveFileChanged: (fileContents: string) => void;\n\t\t\tfiles: (FileData | FolderData)[];\n\t\t}>\n\t) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tshowFileModal: false,\n\t\t\tsearchTerm: \"\"\n\t\t};\n\t}\n\tonDrop(acceptedFiles: File[], _rejectedFiles: File[], _event: DropEvent) {\n\t\tconst reader = new FileReader();\n\n\t\treader.onabort = () => alert(\"file reading was aborted\");\n\t\treader.onerror = () => alert(\"file reading has failed\");\n\t\treader.onload = () => {\n\t\t\t// Do whatever you want with the file contents\n\t\t\tconst binaryStr = new Buffer(reader.result as ArrayBuffer);\n\t\t\tlet inverted: string;\n\t\t\ttry {\n\t\t\t\tinverted = inverse(binaryStr);\n\t\t\t} catch (e) {\n\t\t\t\talert(\n\t\t\t\t\t`An unhandled error occured while trying to convert shortcut -> scpl. The error is: ${e.toString()}`\n\t\t\t\t);\n\t\t\t\tthrow new Error(e);\n\t\t\t}\n\t\t\tthis.props.onActiveFileChanged(inverted);\n\t\t};\n\n\t\tacceptedFiles.forEach(file => reader.readAsArrayBuffer(file));\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Dropzone onDrop={this.onDrop.bind(this)}>\n\t\t\t\t\t{({ getRootProps, getInputProps }) => (\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"files-header\">\n\t\t\t\t\t\t\t\t<div className=\"file-btns\">\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn file-btn large-upload-btn upload-btn\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ gridColumn: \"1/4\" }}\n\t\t\t\t\t\t\t\t\t\t{...getRootProps()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tUpload Shortcut\n\t\t\t\t\t\t\t\t\t\t<input {...getInputProps()} />\n\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tshowUploadShortcutModal: true\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t><div\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn file-btn large-upload-btn upload-btn\"\n\t\t\t\t\t\t\t\t\t\tstyle={{ gridColumn: \"1/4\" }}\n\t\t\t\t\t\t\t\t\t\t{...getRootProps()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tUpload Shortcut\n\t\t\t\t\t\t\t\t\t</div></a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</Dropzone>\n\n\t\t\t\t{this.state.showFileModal ? (\n\t\t\t\t\t<CreateEditShortcut\n\t\t\t\t\t\tonCancel={() => this.setState({ showFileModal: false })}\n\t\t\t\t\t\tonResult={(name, color, glyph) => {\n\t\t\t\t\t\t\tthis.setState({ showFileModal: false });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}