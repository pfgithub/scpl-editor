(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,o){},375:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(54),i=o.n(r),c=(o(63),o(19)),s=o(20),u=o(22),l=o(21),p=o(23),m=o(34),g=(o(106),o(55)),h=o(5),k=o.n(h);k.a.define("ace/mode/scpl_highlight_rules",function(e,t,o){var n=e("../lib/oop"),a=e("./text_highlight_rules").TextHighlightRules,r=function(){this.$rules={start:[{token:"punctuation.operator",regex:'(\\")',push:"string__1"},{token:"punctuation.operator",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation.operator",regex:"(\\()",push:"action__1"},{token:"punctuation.operator",regex:"(\\[)",push:"action__2"},{token:"punctuation.operator",regex:"({)",push:"action__3"},{token:"punctuation.operator",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__1:[{token:"punctuation.operator",regex:"(\\))",next:"pop"},{token:"punctuation.operator",regex:'(\\")',push:"string__1"},{token:"punctuation.operator",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation.operator",regex:"(\\()",push:"action__1"},{token:"punctuation.operator",regex:"(\\[)",push:"action__2"},{token:"punctuation.operator",regex:"({)",push:"action__3"},{token:"punctuation.operator",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__2:[{token:"punctuation.operator",regex:"(\\])",next:"pop"},{token:"punctuation.operator",regex:'(\\")',push:"string__1"},{token:"punctuation.operator",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation.operator",regex:"(\\()",push:"action__1"},{token:"punctuation.operator",regex:"(\\[)",push:"action__2"},{token:"punctuation.operator",regex:"({)",push:"action__3"},{token:"punctuation.operator",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__3:[{token:"punctuation.operator",regex:"(})",next:"pop"},{token:"punctuation.operator",regex:'(\\")',push:"string__1"},{token:"punctuation.operator",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation.operator",regex:"(\\()",push:"action__1"},{token:"punctuation.operator",regex:"(\\[)",push:"action__2"},{token:"punctuation.operator",regex:"({)",push:"action__3"},{token:"punctuation.operator",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],barlist__1:[{token:"punctuation.operator",regex:"($)",next:"pop"},{token:"constant.language.escape",regex:"(\\\\[\"'\\\\n])"},{token:"constant.language.escape",regex:"(\\\\\\()",push:"escape__1"},{token:"string",regex:"([^\\\\]+)"},{defaultToken:"text"}],escape__1:[{token:"constant.language.escape",regex:"(\\))",next:"pop"},{token:"punctuation.operator",regex:'(\\")',push:"string__1"},{token:"punctuation.operator",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation.operator",regex:"(\\()",push:"action__1"},{token:"punctuation.operator",regex:"(\\[)",push:"action__2"},{token:"punctuation.operator",regex:"({)",push:"action__3"},{token:"punctuation.operator",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],multi_line_comment__1:[{token:"comment",regex:"(\\*/)",next:"pop"},{defaultToken:"comment"}],multi_line_comment__2:[{token:"comment",regex:"(--\\])",next:"pop"},{defaultToken:"comment"}],string__1:[{token:"punctuation.operator",regex:'(\\")',next:"pop"},{token:"constant.language.escape",regex:"(\\\\[\"'\\\\n])"},{token:"constant.language.escape",regex:"(\\\\\\()",push:"escape__1"},{token:"string",regex:'([^"\\\\]+)'},{defaultToken:"text"}]},this.normalizeRules()};n.inherits(r,a),t.ScplHighlightRules=r}),k.a.define("ace/mode/scpl",["ace/mode/scpl_highlight_rules"],function(e,t,o){var n=e("ace/lib/oop"),a=e("ace/mode/text").Mode,r=e("ace/mode/scpl_highlight_rules").ScplHighlightRules,i=function(){this.HighlightRules=r};n.inherits(i,a),function(){}.call(i.prototype),t.Mode=i});var _,d=o(56),x=o.n(d),f=o(57),w=o.n(f),v=k.a.acequire("ace/range").Range,W=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),C=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("button",{onClick:function(t){return e.onClick(t)}},"Download .shortcut")}},{key:"fakeClick",value:function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}},{key:"exportRaw",value:function(e,t){var o=window.URL||window.webkitURL||window,n=new Blob([t]);if("msSaveBlob"in navigator)navigator.msSaveBlob(n,e);else if("download"in HTMLAnchorElement.prototype){var a=document.createElementNS("http://www.w3.org/1999/xhtml","a");a.href=o.createObjectURL(n),a.download=e,this.fakeClick(a)}else alert("Downloading shortcuts is not available on this browser.")}},{key:"onClick",value:function(e){this.props.file&&this.exportRaw(this.props.filename,this.props.file)}}]),t}(n.Component),b=function(e){function t(e){var o;return Object(c.a)(this,t),(o=Object(u.a)(this,Object(l.a)(t).call(this,e))).reactAceComponentRef=void 0,o.state={fileValue:'ShowResult "Hello ScPL"',shortcutData:g,shortcutDownload:void 0,annotations:[],markers:[],loading:!1,took:0,fullUpdate:!0},o.reactAceComponentRef=a.a.createRef(),o}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"split"},a.a.createElement("div",{className:"splitItem"},a.a.createElement(x.a,{mode:"scpl",theme:"github",onChange:this.onChange.bind(this),name:"ace_editor",editorProps:{$blockScrolling:!0},value:this.state.fileValue||"",annotations:this.state.annotations,markers:this.state.markers,ref:this.reactAceComponentRef})),a.a.createElement("div",{className:"splitItem scroll".concat(this.state.loading?" loading":"")},a.a.createElement("div",null,this.state.shortcutData[0].WFWorkflowActions.length," action",1===this.state.shortcutData[0].WFWorkflowActions.length?"":"s"," in ",this.state.took," ms."),a.a.createElement(C,{filename:this.state.shortcutData._filename||"download.shortcut",file:this.state.shortcutDownload}),a.a.createElement(W,{shouldUpdate:this.state.fullUpdate},a.a.createElement(w.a,{onInteract:function(t){return e.onActionSelect(t)},data:this.state.shortcutData})))))}},{key:"onActionSelect",value:function(e){if(e.actionData.SCPLData){var t=e.actionData.SCPLData,o=this.reactAceComponentRef.current;if(!o)return void console.log("reactacecomponent is not yet defined");var n=o.editor,a=t.Position.start[0],r=t.Position.start[1]-1;console.log("Scrolling to line",a,r),n.gotoLine(a,r,!0),n.selection.setRange(new v(t.Position.start[0]-1,t.Position.start[1]-1,t.Position.end[0]-1,t.Position.end[1]-1),!0)}}},{key:"onChange",value:function(e){var t=this;this.state.loading||this.setState({fileValue:e,loading:!0,fullUpdate:!1}),_&&clearTimeout(_),_=setTimeout(function(){return t.onChangeLimited(e)},Math.max(4*this.state.took,100))}},{key:"onChangeLimited",value:function(e){var t,o=(new Date).getTime();try{t=Object(m.parse)(e,{make:["shortcutjson","shortcutplist"]})}catch(i){if(console.log(i.message),!(i instanceof m.PositionedError))throw i;return void this.setState({fileValue:e,loading:!1,shortcutDownload:void 0,took:(new Date).getTime()-o,fullUpdate:!0,annotations:[{row:i.start[0]-1,column:i.start[1]-1,text:i.message,type:"error"}],markers:[{startRow:i.start[0]-1,endRow:i.end[0]-1,startCol:i.start[1]-1,endCol:i.end[1]-1,className:"ace_active-line error",type:"background"}]})}var n=t,a=n.shortcutjson,r=n.shortcutplist;this.setState({fileValue:e,took:(new Date).getTime()-o,loading:!1,fullUpdate:!0,shortcutData:a,annotations:[],markers:[],shortcutDownload:r})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e){e.exports=[{WFWorkflowClientVersion:"754",WFWorkflowClientRelese:"2.1.2",WFWorkflowMinimumClientVersion:411,WFWorkflowIcon:{WFWorkflowIconStartColor:2071128575,WFWorkflowIconImageData:{type:"Buffer",data:[]},WFWorkflowIconGlyphNumber:59511},WFWorkflowTypes:["NCWidget","WatchKit"],WFWorkflowInputContentItemClasses:["WFAppStoreAppContentItem","WFArticleContentItem","WFContactContentItem","WFDateContentItem","WFEmailAddressContentItem","WFGenericFileContentItem","WFImageContentItem","WFiTunesProductContentItem","WFLocationContentItem","WFDCMapsLinkContentItem","WFAVAssetContentItem","WFPDFContentItem","WFPhoneNumberContentItem","WFRichTextContentItem","WFSafariWebPageContentItem","WFStringContentItem","WFURLContentItem"],WFWorkflowActions:[{WFWorkflowActionIdentifier:"is.workflow.actions.showresult",WFWorkflowActionParameters:{UUID:"c47f4d71-321c-41fc-86c2-f8b7aef06409",Text:"Hello ScPL"}}]}]},58:function(e,t,o){e.exports=o(375)},63:function(e,t,o){},93:function(e,t){},95:function(e,t){}},[[58,1,2]]]);
//# sourceMappingURL=main.b3512364.chunk.js.map