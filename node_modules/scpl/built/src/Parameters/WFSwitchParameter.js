"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const WFParameter_1 = require("./WFParameter");
class WFSwitchParameter extends WFParameter_1.WFParameter {
    constructor(data, name = "Switch", docs = "https://pfgithub.github.io/shortcutslang/gettingstarted#switch-or-expanding-or-boolean-fields") {
        super(data, name, docs);
    }
    genDocsArgName() {
        return this.allowsVariables
            ? `(true | false | variable)`
            : `(true | false)`;
    }
    genDocs() {
        return `${super.genDocs()}

Accepts a boolean${this.allowsVariables
            ? `
or a variable.`
            : ""}`;
    }
    build(cc, parse) {
        if (parse.canBeVariable(cc)) {
            if (!this.allowsVariables) {
                throw parse.error(cc, "This toggle switch field does not accept variables.");
            }
            return parse.asVariable(cc);
        }
        else if (parse.canBeBoolean(cc)) {
            return parse.asBoolean(cc);
        }
        throw parse.error(cc, "Toggle switch fields only accept booleans (true/false) and variables.");
    }
}
exports.WFSwitchParameter = WFSwitchParameter;
