(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){},375:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(54),r=n.n(i),s=(n(63),n(19)),c=n(20),u=n(22),l=n(21),p=n(23),m=n(34),g=(n(106),n(55)),k=n(5),h=n.n(k);h.a.define("ace/mode/scpl_highlight_rules",function(e,t,n){var o=e("../lib/oop"),a=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__1:[{token:"punctuation",regex:"(\\))",next:"pop"},{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__2:[{token:"punctuation",regex:"(\\])",next:"pop"},{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],action__3:[{token:"punctuation",regex:"(})",next:"pop"},{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],barlist__1:[{token:"punctuation",regex:"($)",next:"pop"},{token:"escape",regex:"(\\\\[\"'\\\\n])"},{token:"escape",regex:"(\\\\\\()",push:"escape__1"},{token:"string",regex:"([^\\\\]+)"},{defaultToken:"text"}],escape__1:[{token:"escape",regex:"(\\))",next:"pop"},{token:"punctuation",regex:'(\\")',push:"string__1"},{token:"punctuation",regex:"(\\')",push:"string__2"},{token:"punctuation",regex:"(^\\s*\\|\\s*)",push:"barlist__1"},{token:"variable",regex:"(:([A-Za-z0-9@._]+))"},{token:"support.constant",regex:"(@(([A-Za-z0-9@._]+))?)"},{token:"keyword",regex:"([A-Za-z0-9@._]+)"},{token:"comment",regex:"(/\\*)",push:"multi_line_comment__1"},{token:"comment",regex:"(--\\[)",push:"multi_line_comment__2"},{token:"comment",regex:"(--.*)"},{token:"comment",regex:"(#.*)"},{token:"comment",regex:"(//.*)"},{token:"punctuation",regex:"(\\()",push:"action__1"},{token:"punctuation",regex:"(\\[)",push:"action__2"},{token:"punctuation",regex:"({)",push:"action__3"},{token:"punctuation",regex:'(["\\:,;^\\->=])'},{token:"invalid",regex:"([^\\s])"},{defaultToken:"text"}],multi_line_comment__1:[{token:"comment",regex:"(\\*/)",next:"pop"},{defaultToken:"comment"}],multi_line_comment__2:[{token:"comment",regex:"(--\\])",next:"pop"},{defaultToken:"comment"}],string__1:[{token:"punctuation",regex:'(\\")',next:"pop"},{token:"escape",regex:"(\\\\[\"'\\\\n])"},{token:"escape",regex:"(\\\\\\()",push:"escape__1"},{token:"string",regex:'([^"\\\\]+)'},{defaultToken:"text"}],string__2:[{token:"punctuation",regex:"(\\')",next:"pop"},{token:"escape",regex:"(\\\\[\"'\\\\n])"},{token:"escape",regex:"(\\\\\\()",push:"escape__1"},{token:"string",regex:"([^'\\\\]+)"},{defaultToken:"text"}]},this.normalizeRules()};o.inherits(i,a),t.ScplHighlightRules=i}),h.a.define("ace/mode/scpl",["ace/mode/scpl_highlight_rules"],function(e,t,n){var o=e("ace/lib/oop"),a=e("ace/mode/text").Mode,i=e("ace/mode/scpl_highlight_rules").ScplHighlightRules,r=function(){this.HighlightRules=i};o.inherits(r,a),function(){}.call(r.prototype),t.Mode=r});var _,x=n(56),d=n.n(x),f=n(57),w=n.n(f),v=h.a.acequire("ace/range").Range,W=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){return this.props.children}}]),t}(o.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("button",{onClick:function(t){return e.onClick(t)}},"Download .shortcut")}},{key:"fakeClick",value:function(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}},{key:"exportRaw",value:function(e,t){var n=window.URL||window.webkitURL||window,o=new Blob([t]);if("msSaveBlob"in navigator)navigator.msSaveBlob(o,e);else if("download"in HTMLAnchorElement.prototype){var a=document.createElementNS("http://www.w3.org/1999/xhtml","a");a.href=n.createObjectURL(o),a.download=e,this.fakeClick(a)}else alert("Downloading shortcuts is not available on this browser.")}},{key:"onClick",value:function(e){this.props.file&&this.exportRaw(this.props.filename,this.props.file)}}]),t}(o.Component),b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e))).reactAceComponentRef=void 0,n.state={fileValue:'ShowResult "Hello ScPL"',shortcutData:g,shortcutDownload:void 0,annotations:[],markers:[],loading:!1,took:0,fullUpdate:!0},n.reactAceComponentRef=a.a.createRef(),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"split"},a.a.createElement("div",{className:"splitItem"},a.a.createElement(d.a,{mode:"scpl",theme:"github",onChange:this.onChange.bind(this),name:"ace_editor",editorProps:{$blockScrolling:!0},value:this.state.fileValue||"",annotations:this.state.annotations,markers:this.state.markers,ref:this.reactAceComponentRef})),a.a.createElement("div",{className:"splitItem scroll".concat(this.state.loading?" loading":"")},a.a.createElement("div",null,this.state.shortcutData[0].WFWorkflowActions.length," action",1===this.state.shortcutData[0].WFWorkflowActions.length?"":"s"," in ",this.state.took," ms."),a.a.createElement(C,{filename:this.state.shortcutData._filename||"download.shortcut",file:this.state.shortcutDownload}),a.a.createElement(W,{shouldUpdate:this.state.fullUpdate},a.a.createElement(w.a,{onInteract:function(t){return e.onActionSelect(t)},data:this.state.shortcutData})))))}},{key:"onActionSelect",value:function(e){if(e.actionData.SCPLData){var t=e.actionData.SCPLData,n=this.reactAceComponentRef.current;if(!n)return void console.log("reactacecomponent is not yet defined");var o=n.editor,a=t.Position.start[0],i=t.Position.start[1]-1;console.log("Scrolling to line",a,i),o.gotoLine(a,i,!0),o.selection.setRange(new v(t.Position.start[0]-1,t.Position.start[1]-1,t.Position.end[0]-1,t.Position.end[1]-1),!0)}}},{key:"onChange",value:function(e){var t=this;this.state.loading||this.setState({fileValue:e,loading:!0,fullUpdate:!1}),_&&clearTimeout(_),_=setTimeout(function(){return t.onChangeLimited(e)},Math.max(4*this.state.took,100))}},{key:"onChangeLimited",value:function(e){var t,n=(new Date).getTime();try{t=Object(m.parse)(e,{make:["shortcutjson","shortcutplist"]})}catch(r){if(console.log(r.message),!(r instanceof m.PositionedError))throw r;return void this.setState({fileValue:e,loading:!1,shortcutDownload:void 0,took:(new Date).getTime()-n,fullUpdate:!0,annotations:[{row:r.start[0]-1,column:r.start[1]-1,text:r.message,type:"error"}],markers:[{startRow:r.start[0]-1,endRow:r.end[0]-1,startCol:r.start[1]-1,endCol:r.end[1]-1,className:"ace_active-line error",type:"background"}]})}var o=t,a=o.shortcutjson,i=o.shortcutplist;this.setState({fileValue:e,took:(new Date).getTime()-n,loading:!1,fullUpdate:!0,shortcutData:a,annotations:[],markers:[],shortcutDownload:i})}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e){e.exports=[{WFWorkflowClientVersion:"754",WFWorkflowClientRelese:"2.1.2",WFWorkflowMinimumClientVersion:411,WFWorkflowIcon:{WFWorkflowIconStartColor:2071128575,WFWorkflowIconImageData:{type:"Buffer",data:[]},WFWorkflowIconGlyphNumber:59511},WFWorkflowTypes:["NCWidget","WatchKit"],WFWorkflowInputContentItemClasses:["WFAppStoreAppContentItem","WFArticleContentItem","WFContactContentItem","WFDateContentItem","WFEmailAddressContentItem","WFGenericFileContentItem","WFImageContentItem","WFiTunesProductContentItem","WFLocationContentItem","WFDCMapsLinkContentItem","WFAVAssetContentItem","WFPDFContentItem","WFPhoneNumberContentItem","WFRichTextContentItem","WFSafariWebPageContentItem","WFStringContentItem","WFURLContentItem"],WFWorkflowActions:[{WFWorkflowActionIdentifier:"is.workflow.actions.showresult",WFWorkflowActionParameters:{UUID:"c47f4d71-321c-41fc-86c2-f8b7aef06409",Text:"Hello ScPL"}}]}]},58:function(e,t,n){e.exports=n(375)},63:function(e,t,n){},93:function(e,t){},95:function(e,t){}},[[58,1,2]]]);
//# sourceMappingURL=main.f937d002.chunk.js.map