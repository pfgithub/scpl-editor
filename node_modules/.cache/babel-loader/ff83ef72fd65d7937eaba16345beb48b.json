{"ast":null,"code":"import _regeneratorRuntime from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/brandonjordan/Documents/GitHub/scpl-editor/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/brandonjordan/Documents/GitHub/scpl-editor/src/App.tsx\";\nimport React, { Component } from \"react\";\nimport { parse, PositionedError } from \"scpl\";\nimport \"./App.css\";\nimport * as moment from \"moment\"; // import {Helmet} from \"react-helmet\";\n\nimport testshortcut from \"./testshortcut.json\";\nimport ace from \"brace\";\nimport \"./ace/mode-scpl\";\nimport \"brace/theme/chrome\";\nimport \"brace/ext/language_tools\";\nimport \"brace/ext/searchbox\";\nimport AceEditor from \"react-ace\";\nimport { FilePane } from \"./FilePane\";\nimport { SearchActions } from \"./SearchActions\";\nimport { DownloadModal } from \"./DownloadModal\";\nimport { keys } from \"./Key\";\nimport { UploadShortcutModal } from \"./UploadShortcutModal\";\nimport { ErrorBoundary } from \"./ErrorBoundary\";\nimport { FileManager } from \"./FileManager\";\nimport ShortcutPreview from \"shortcut-preview\";\nvar timeout;\nvar saveTimeout;\nvar Range = ace.acequire(\"ace/range\").Range;\nvar langTools = ace.acequire(\"ace/ext/language_tools\");\nvar findAndReplace = ace.acequire(\"ace/ext/searchbox\");\nvar rhymeCompleter = {\n  getCompletions: function getCompletions(editor, session, pos, prefix, callback) {\n    if (prefix.length === 0) {\n      callback(null, []);\n      return;\n    }\n\n    var variables = session.getValue().match(/(v|mv):([A-Za-z0-9]+)/g);\n    console.log(variables);\n\n    if (!variables) {\n      callback(null, []);\n      return;\n    }\n\n    callback(null, variables.map(function (v) {\n      return {\n        name: v,\n        value: v,\n        score: 25,\n        meta: v\n      };\n    }));\n  }\n};\nlangTools.addCompleter(rhymeCompleter);\nvar hotkey = window.navigator.platform === \"MacIntel\" || window.navigator.platform.includes(\"Win\") ? \"âŒ˜\" : \"^\";\n\nvar MaybeUpdate =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MaybeUpdate, _Component);\n\n  function MaybeUpdate() {\n    _classCallCheck(this, MaybeUpdate);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MaybeUpdate).apply(this, arguments));\n  }\n\n  _createClass(MaybeUpdate, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.shouldUpdate;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return MaybeUpdate;\n}(Component);\n\nvar now = function now() {\n  return new Date().getTime();\n};\n\nvar App =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(App, _Component2);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this.reactAceComponentRef = void 0;\n    _this.state = {\n      fileValue: \"...\",\n      shortcutData: testshortcut,\n      shortcutDownload: undefined,\n      annotations: [],\n      markers: [],\n      loading: false,\n      took: {\n        waitedFor: 0,\n        convertedIn: 0\n      },\n      mobileFilemenu: false,\n      openDownload: false,\n      showPreview: false,\n      showPreviewFullscreen: false,\n      showUploadShortcutModal: false,\n      errors: [],\n      tabs: [],\n      activeID: undefined,\n      filesNew: [],\n      lastSave: 0,\n      lastChage: 0,\n      saveStatus: \"saved\",\n      loginstatus: \"unknown\",\n      files: {\n        \"download.scpl\": \"ShowResult \\\"Hello ScPL\\\"\\n\\tChooseFromMenu \\\"ScPL Editor\\\" items=[\\\"Getting Started\\\", \\\"View Documentation\\\"]\\n\\tCase \\\"Getting Started\\\"\\n\\t    URL \\\"https://docs.scpl.dev/gettingstarted\\\"\\n\\tCase \\\"View Documentation\\\"\\n\\t    URL \\\"https://docs.scpl.dev/\\\"\\n\\tEnd Menu\\n\\tOpenURLs\",\n        \"other.scpl\": \"ShowResult \\\"ScPL\\\"\",\n        urlquery: new URLSearchParams(window.location.search).get(\"scpl\") || \"\"\n      }\n    };\n    _this.reactAceComponentRef = React.createRef();\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var urlParams = new URLSearchParams(window.location.search);\n      this.onChange(new URLSearchParams(window.location.search).get(\"scpl\") || \"ShowResult \\\"Hello ScPL\\\"\\nChooseFromMenu \\\"ScPL Editor\\\" items=[\\\"Getting Started\\\", \\\"View Documentation\\\"]\\nCase \\\"Getting Started\\\"\\n    URL \\\"https://docs.scpl.dev/gettingstarted\\\"\\nCase \\\"View Documentation\\\"\\n    URL \\\"https://docs.scpl.dev/\\\"\\nEnd Menu\\nOpenURLs\");\n\n      FileManager.onFileListChange = function () {\n        _this2.setState({\n          filesNew: FileManager.fileList,\n          tabs: FileManager.tabs\n        });\n      };\n\n      FileManager.onActiveFileChanged =\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(id) {\n          var file;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (_this2.state.activeID) {\n                    FileManager.saveFile(_this2.state.activeID, _this2.state.fileValue);\n                  }\n\n                  if (id) {\n                    _context.next = 3;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\", _this2.setState({\n                    activeID: undefined\n                  }));\n\n                case 3:\n                  // get the file\n                  _this2.setState({\n                    activeID: undefined\n                  });\n\n                  _context.next = 6;\n                  return FileManager.loadFile(id);\n\n                case 6:\n                  file = _context.sent;\n\n                  // check last save time\n                  _this2.setState({\n                    activeID: id,\n                    lastSave: now()\n                  });\n\n                  _this2.onChange(file);\n\n                case 9:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      this.login();\n\n      document.body.onfocus = function () {\n        _this2.login();\n      };\n    }\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2() {\n        var logintoken, result;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                logintoken = localStorage.getItem(\"logintoken\");\n                this.setState({\n                  loginstatus: \"loggingin\"\n                }); // request to server\n\n                result = true;\n\n                if (result) {\n                  this.setState({\n                    loginstatus: \"loggedin\"\n                  });\n                } // else setstate(loginerr)\n\n\n                this.setState({\n                  loginstatus: \"notloggedin\"\n                });\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function login() {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        onKeyDown: function onKeyDown(e) {\n          if (keys.save(e)) {\n            alert(\"save\");\n          }\n\n          if (keys.export(e)) {\n            _this3.setState({\n              openDownload: true\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"upload-area\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, \"Drop file anywhere to upload\")), this.state.openDownload ? React.createElement(DownloadModal, {\n        onCancel: function onCancel() {\n          _this3.setState({\n            openDownload: false\n          });\n        },\n        filename: this.state.shortcutData._filename || \"download.shortcut\",\n        file: this.state.shortcutDownload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }) : null, this.state.showUploadShortcutModal ? React.createElement(UploadShortcutModal, {\n        onCancel: function onCancel() {\n          return _this3.setState({\n            showUploadShortcutModal: false\n          });\n        },\n        onResult: function onResult(result) {\n          _this3.setState({\n            showUploadShortcutModal: false\n          });\n\n          _this3.onChange(result);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }) : null, React.createElement(\"div\", {\n        className: \"editor-navigation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"mobile-filemenu\".concat(this.state.mobileFilemenu ? \" open-filemenu\" : \"\"),\n        style: {\n          display: \"none\"\n        },\n        onClick: function onClick() {\n          return _this3.setState({\n            mobileFilemenu: !_this3.state.mobileFilemenu\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"editor-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275\n        },\n        __self: this\n      }, \"ScPL Editor\"), React.createElement(\"div\", {\n        className: \"editor-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278\n        },\n        __self: this\n      }, \"File\", React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"New File\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, hotkey, \"N\"))), React.createElement(\"li\", {\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288\n        },\n        __self: this\n      }, \"New Folder\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290\n        },\n        __self: this\n      }, \"\\u21E7\", hotkey, \"N\"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294\n        },\n        __self: this\n      }, \"Save File\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296\n        },\n        __self: this\n      }, hotkey, \"S\"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, \"Close Tab\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, hotkey, \"E\"))), React.createElement(\"div\", {\n        className: \"menu-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return _this3.setState({\n            showUploadShortcutModal: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307\n        },\n        __self: this\n      }, \"Import Shortcut from iCloud\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return _this3.setState({\n            openDownload: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, \"Export Shortcut\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328\n        },\n        __self: this\n      }, \"\\u21E7\", hotkey, \"S\"))))))), React.createElement(\"div\", {\n        className: \"editor-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, \"Edit\", React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return _this3.getAce().undo();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341\n        },\n        __self: this\n      }, \"Undo\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347\n        },\n        __self: this\n      }, hotkey, \"Z\"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return _this3.getAce().redo();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351\n        },\n        __self: this\n      }, \"Redo\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358\n        },\n        __self: this\n      }, \"\\u21E7\", hotkey, \"Z\"))), React.createElement(\"div\", {\n        className: \"menu-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return document.execCommand(\"cut\") || alert(\"Please press ctrl/cmd+x to cut\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, \"Cut\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, hotkey, \"X\"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return document.execCommand(\"copy\") && alert(\"Please press ctrl/cmd+c to copy\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, \"Copy\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, hotkey, \"C\"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return document.execCommand(\"paste\") || alert(\"Please press ctrl/cmd+v to paste.\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393\n        },\n        __self: this\n      }, \"Paste\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404\n        },\n        __self: this\n      }, hotkey, \"P\"))), React.createElement(\"div\", {\n        className: \"menu-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return _this3.getAce().selectAll();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, \"Select All\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416\n        },\n        __self: this\n      }, hotkey, \"A\"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420\n        },\n        __self: this\n      }, \"Format Code\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, \"\\u21E7\", hotkey, \"B\"))), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          return findAndReplace.Search(_this3.getAce());\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, \"Find and Replace\", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435\n        },\n        __self: this\n      }, hotkey, \"F\"))))))), React.createElement(\"div\", {\n        className: \"editor-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444\n        },\n        __self: this\n      }, \"Account\", React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://account.scpl.dev/settings\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447\n        },\n        __self: this\n      }, \"Account Settings\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://account.scpl.dev/filebrowser\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, \"Manage Files\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://account.scpl.dev/shared\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449\n        },\n        __self: this\n      }, \"Shared with you\")), React.createElement(\"div\", {\n        className: \"menu-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450\n        },\n        __self: this\n      }), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://account.scpl.dev/login\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://account.scpl.dev/sign-up\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, \"Create Account\")))))), React.createElement(\"div\", {\n        className: \"editor-menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459\n        },\n        __self: this\n      }, \"Help\", React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://scpl.dev/\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463\n        },\n        __self: this\n      }, \"About\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://docs.scpl.dev/gettingstarted.html\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }, \"Getting Started\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://docs.scpl.dev/\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479\n        },\n        __self: this\n      }, \"Documentation\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://github.com/pfgithub/scpl\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }, \"GitHub\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://discordapp.com/invite/2qqfFKc\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495\n        },\n        __self: this\n      }, \"Discord\")), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"https://www.reddit.com/r/scpl\",\n        target: \"_blank\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 503\n        },\n        __self: this\n      }, \"Subreddit\"))))))), React.createElement(\"div\", {\n        className: \"search-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515\n        },\n        __self: this\n      }, React.createElement(SearchActions, {\n        insertText: function insertText(text) {\n          console.log(\"insert\", text);\n          var reactAceComponent = _this3.reactAceComponentRef.current;\n          var editor = reactAceComponent.editor;\n          editor.session.insert(editor.getCursorPosition(), text);\n          console.log(editor.session.getValue(), text, editor.getCursorPosition());\n\n          _this3.setState({\n            fileValue: editor.session.getValue()\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 538\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"savedstatus\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 539\n        },\n        __self: this\n      }, this.state.saveStatus === \"saved\" ? \"All changes saved\" : this.state.saveStatus === \"saving\" ? \"Saving...\" : React.createElement(\"a\", {\n        className: \"last-saved\",\n        onClick:\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee3() {\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  clearTimeout(saveTimeout);\n                  _context3.t0 = _this3.state.activeID;\n\n                  if (!_context3.t0) {\n                    _context3.next = 5;\n                    break;\n                  }\n\n                  _context3.next = 5;\n                  return FileManager.saveFile(_this3.state.activeID, _this3.state.fileValue);\n\n                case 5:\n                  _this3.setState({\n                    saveStatus: \"saved\",\n                    lastSave: now()\n                  });\n\n                case 6:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545\n        },\n        __self: this\n      }, \"Last saved:\", \" \", moment.unix(this.state.lastSave / 1000).fromNow())), React.createElement(\"div\", {\n        className: \"result-details\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"result-actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 568\n        },\n        __self: this\n      }, this.state.shortcutData[0].WFWorkflowActions.length, \" \", \"action\", this.state.shortcutData[0].WFWorkflowActions.length === 1 ? \"\" : \"s\")), React.createElement(\"div\", {\n        className: \"editor-btn\",\n        id: \"run-preview\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        onClick: function onClick() {\n          _this3.setState({\n            showPreviewFullscreen: !_this3.state.showPreviewFullscreen,\n            showPreview: !_this3.state.showPreviewFullscreen\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 582\n        },\n        __self: this\n      }, \"Preview\")), React.createElement(\"div\", {\n        className: \"editor-btn primary-btn\",\n        id: \"open-download\",\n        onClick: function onClick() {\n          return _this3.setState({\n            openDownload: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"javascript:;\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 605\n        },\n        __self: this\n      }, \"Export\")))), React.createElement(\"div\", {\n        className: \"editor-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 609\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"file-pane\".concat(this.state.mobileFilemenu ? \" open-menu\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 610\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"no-files-overlay\",\n        style: {\n          display: \"none\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 619\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 620\n        },\n        __self: this\n      }, \"No files\\u2014yet.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 621\n        },\n        __self: this\n      }, \"Add files above by creating ScPL files\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 623\n        },\n        __self: this\n      }), \"or by uploading or importing a shortcut.\"))), React.createElement(FilePane, {\n        files: this.state.filesNew,\n        onActiveFileChanged: function onActiveFileChanged(file) {\n          return _this3.onChange(file);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        href: \"https://account.scpl.dev/settings\",\n        target: \"_blank\",\n        rel: \"noopener\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 686\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"account-settings-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 691\n        },\n        __self: this\n      }, \"Account Settings\"))), React.createElement(\"div\", {\n        className: \"code-pane\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 696\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"error-messages\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 697\n        },\n        __self: this\n      }, this.state.errors.map(function (err) {\n        return React.createElement(\"div\", {\n          className: \"e-message\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 699\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"message-content\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 700\n          },\n          __self: this\n        }, err.message), React.createElement(\"div\", {\n          className: \"jump-error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 703\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          onClick: function onClick() {\n            return _this3.jumpToError(err);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 704\n          },\n          __self: this\n        }, \"Jump\")));\n      })), React.createElement(\"div\", {\n        className: \"tabs-nav\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 715\n        },\n        __self: this\n      }, this.state.tabs.length > 1 ? React.createElement(\"div\", {\n        className: \"file-tabs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 717\n        },\n        __self: this\n      }, this.state.tabs.map(function (tab) {\n        return React.createElement(\"div\", {\n          className: \"tab \".concat(_this3.state.activeID === tab.id ? \"active-tab\" : \"\"),\n          onClick: function onClick(e) {\n            e.stopPropagation();\n            FileManager.addTab(tab.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 719\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"tab-close\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 730\n          },\n          __self: this\n        }, \"\\xD7\"), React.createElement(\"div\", {\n          className: \"tab-label\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 733\n          },\n          __self: this\n        }, tab.name));\n      })) : null, React.createElement(\"div\", {\n        className: \"variables-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 740\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"variables\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"global-variables\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 742\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"variable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 743\n        },\n        __self: this\n      }, \"Ask When Run\"), React.createElement(\"div\", {\n        className: \"variable clipboard-v\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 746\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 747\n        },\n        __self: this\n      }, \"Clipboard\")), React.createElement(\"div\", {\n        className: \"variable date-v\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 749\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 750\n        },\n        __self: this\n      }, \"Current Date\")), React.createElement(\"div\", {\n        className: \"variable input-v\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 752\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 753\n        },\n        __self: this\n      }, \"Shortcut Input\"))), React.createElement(\"div\", {\n        className: \"code-variables\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"variable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 757\n        },\n        __self: this\n      }, \"example\"), React.createElement(\"div\", {\n        className: \"variable mv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 758\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 759\n        },\n        __self: this\n      }, \"magic\")))))), this.state.activeID ? React.createElement(AceEditor, {\n        mode: \"scpl\",\n        theme: \"chrome\",\n        onChange: this.onChange.bind(this),\n        name: \"ace_editor\",\n        editorProps: {\n          $blockScrolling: Infinity\n        },\n        value: this.state.fileValue || \"\",\n        annotations: this.state.annotations,\n        markers: this.state.markers,\n        ref: this.reactAceComponentRef,\n        showPrintMargin: false,\n        enableBasicAutocompletion: true,\n        enableLiveAutocompletion: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 766\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"editor-error no-open-files\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 781\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 782\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 783\n        },\n        __self: this\n      }, \"No files are open in the editor.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 784\n        },\n        __self: this\n      }, \"Upload or import a shortcut, plus create and\", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 787\n        },\n        __self: this\n      }), \"manage ScPL files in the left pane.\")))), React.createElement(\"div\", {\n        className: \"result-pane\".concat(this.state.loading && this.state.showPreview ? \" loading\" : \"\").concat(!this.state.showPreviewFullscreen ? \" mobiledisabled\" : \"\") // style={{\n        // \tdisplay: this.state.showPreview ? \"none\" : \"block\"\n        // }}\n        ,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 794\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"result-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 808\n        },\n        __self: this\n      }, \"Converted in \", React.createElement(\"span\", {\n        id: \"highlight-result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 809\n        },\n        __self: this\n      }, this.state.took.convertedIn, \" ms.\")), this.state.showPreview && this.state.errors.length === 0 ? React.createElement(ErrorBoundary, {\n        errorDisplay: function errorDisplay(err) {\n          return React.createElement(\"div\", {\n            className: \"preview-error render-error shortcut-preview-fatal-error\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 815\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"render-text\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 816\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 817\n            },\n            __self: this\n          }, \"A fatal error occured in shortcut-preview. The error is\", \" \", err.toString())));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 813\n        },\n        __self: this\n      }, React.createElement(ShortcutPreview, {\n        onInteract: function onInteract(data) {\n          return _this3.onActionSelect(data);\n        },\n        data: this.state.shortcutData,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 826\n        },\n        __self: this\n      })) : null, React.createElement(\"div\", {\n        className: \"loading-result-progress\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 834\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 835\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"spinner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 836\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"bar1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 837\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 838\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 839\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 840\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 841\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 842\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 843\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 844\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 845\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 846\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar11\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 847\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bar12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 848\n        },\n        __self: this\n      })))), !this.state.showPreview ? React.createElement(\"div\", {\n        className: \"preview-error render-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 853\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 854\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 855\n        },\n        __self: this\n      }, \"There are too many actions to render a preview automatically.\"), React.createElement(\"button\", {\n        className: \"btn trans-btn\",\n        onClick: function onClick() {\n          return _this3.setState({\n            showPreview: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 859\n        },\n        __self: this\n      }, \"Render Preview\"))) : null, this.state.errors.length !== 0 ? React.createElement(\"div\", {\n        className: \"preview-error render-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 873\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 874\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 875\n        },\n        __self: this\n      }, \"Failed to render because of code error.\"))) : null)));\n    }\n  }, {\n    key: \"onActionSelect\",\n    value: function onActionSelect(data) {\n      if (data.actionData.SCPLData) {\n        var scpldata = data.actionData.SCPLData;\n        var reactAceComponent = this.reactAceComponentRef.current;\n\n        if (!reactAceComponent) {\n          return;\n        }\n\n        var editor = reactAceComponent.editor; // .Position.start|end\n\n        var line = scpldata.Position.start[0];\n        var col = scpldata.Position.start[1] - 1;\n        editor.gotoLine(line, col, true);\n        editor.selection.setRange(new Range(scpldata.Position.start[0] - 1, scpldata.Position.start[1] - 1, scpldata.Position.end[0] - 1, scpldata.Position.end[1] - 1), true);\n      }\n    }\n  }, {\n    key: \"getAce\",\n    value: function getAce() {\n      var reactAceComponent = this.reactAceComponentRef.current;\n\n      if (!reactAceComponent) {\n        throw new Error(\"No reactacecomponent\");\n      }\n\n      var editor = reactAceComponent.editor;\n      return editor;\n    }\n  }, {\n    key: \"jumpToError\",\n    value: function jumpToError(d) {\n      var reactAceComponent = this.reactAceComponentRef.current;\n\n      if (!reactAceComponent) {\n        return;\n      }\n\n      var editor = reactAceComponent.editor;\n      var line = d.startRow;\n      var col = d.startCol - 1;\n      editor.gotoLine(line, col, true);\n      editor.selection.setRange(new Range(d.startRow - 1, d.startCol - 1, d.endRow - 1, d.endCol - 1), true);\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(text) {\n      var _this4 = this;\n\n      this.setState({\n        lastChage: now()\n      });\n      var willWaitFor = text.length < 500 ? 100 : 1000;\n      this.setState({\n        fileValue: text,\n        loading: true,\n        saveStatus: \"unsaved\"\n      });\n\n      if (!this.state.loading) {\n        this.setState({\n          showPreview: text.length < 500\n        });\n      }\n\n      if (saveTimeout) {\n        clearTimeout(saveTimeout);\n      }\n\n      saveTimeout = setTimeout(\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this4.setState({\n                  saveStatus: \"saving\"\n                });\n\n                _context4.t0 = _this4.state.activeID;\n\n                if (!_context4.t0) {\n                  _context4.next = 5;\n                  break;\n                }\n\n                _context4.next = 5;\n                return FileManager.saveFile(_this4.state.activeID, text);\n\n              case 5:\n                _this4.setState({\n                  saveStatus: \"saved\",\n                  lastSave: now()\n                });\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      })), 1000);\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      timeout = setTimeout(function () {\n        return _this4.onChangeLimited(text, willWaitFor);\n      }, willWaitFor);\n    }\n  }, {\n    key: \"onChangeLimited\",\n    value: function onChangeLimited(text, waitedFor) {\n      // parse\n      var output;\n      var startTime = new Date().getTime();\n\n      try {\n        output = parse(text, {\n          make: [\"shortcutjson\", \"shortcutplist\"]\n        });\n      } catch (er) {\n        console.log(er.message); //eslint-disable-line no-console\n\n        if (!(er instanceof PositionedError)) {\n          throw er;\n        }\n\n        this.setState({\n          fileValue: text,\n          loading: false,\n          shortcutDownload: undefined,\n          took: {\n            waitedFor: waitedFor,\n            convertedIn: new Date().getTime() - startTime\n          },\n          annotations: [{\n            row: er.start[0] - 1,\n            column: er.start[1] - 1,\n            text: er.message,\n            // Or the Json reply from the parser\n            type: \"error\" // also warning and information\n\n          }],\n          markers: [{\n            startRow: er.start[0] - 1,\n            endRow: er.end[0] - 1,\n            startCol: er.start[1] - 1,\n            endCol: er.end[1] - 1,\n            className: \"ace_active-line error\",\n            type: \"background\"\n          }],\n          errors: [{\n            startRow: er.start[0],\n            endRow: er.end[0],\n            startCol: er.start[1],\n            endCol: er.end[1],\n            message: er.message\n          }]\n        });\n        return;\n      }\n\n      var _output = output,\n          shortcutjson = _output.shortcutjson,\n          shortcutplist = _output.shortcutplist;\n      this.setState({\n        fileValue: text,\n        took: {\n          waitedFor: waitedFor,\n          convertedIn: new Date().getTime() - startTime\n        },\n        loading: false,\n        shortcutData: shortcutjson,\n        annotations: [],\n        markers: [],\n        errors: [],\n        shortcutDownload: shortcutplist\n      });\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/brandonjordan/Documents/GitHub/scpl-editor/src/App.tsx"],"names":["React","Component","parse","PositionedError","moment","testshortcut","ace","AceEditor","FilePane","SearchActions","DownloadModal","keys","UploadShortcutModal","ErrorBoundary","FileManager","ShortcutPreview","timeout","saveTimeout","Range","acequire","langTools","findAndReplace","rhymeCompleter","getCompletions","editor","session","pos","prefix","callback","length","variables","getValue","match","console","log","map","v","name","value","score","meta","addCompleter","hotkey","window","navigator","platform","includes","MaybeUpdate","nextProps","shouldUpdate","props","children","now","Date","getTime","App","reactAceComponentRef","state","fileValue","shortcutData","shortcutDownload","undefined","annotations","markers","loading","took","waitedFor","convertedIn","mobileFilemenu","openDownload","showPreview","showPreviewFullscreen","showUploadShortcutModal","errors","tabs","activeID","filesNew","lastSave","lastChage","saveStatus","loginstatus","files","urlquery","URLSearchParams","location","search","get","createRef","urlParams","onChange","onFileListChange","setState","fileList","onActiveFileChanged","id","saveFile","loadFile","file","login","document","body","onfocus","logintoken","localStorage","getItem","result","e","save","alert","export","display","_filename","getAce","undo","redo","execCommand","selectAll","Search","text","reactAceComponent","current","insert","getCursorPosition","clearTimeout","unix","fromNow","WFWorkflowActions","err","message","jumpToError","tab","stopPropagation","addTab","bind","$blockScrolling","Infinity","toString","data","onActionSelect","actionData","SCPLData","scpldata","line","Position","start","col","gotoLine","selection","setRange","end","Error","d","startRow","startCol","endRow","endCol","willWaitFor","setTimeout","onChangeLimited","output","startTime","make","er","row","column","type","className","shortcutjson","shortcutplist"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { parse, PositionedError } from \"scpl\";\nimport \"./App.css\";\nimport * as moment from \"moment\";\n// import {Helmet} from \"react-helmet\";\n\nimport testshortcut from \"./testshortcut.json\";\n\nimport ace from \"brace\";\nimport \"./ace/mode-scpl\";\nimport \"brace/theme/chrome\";\nimport \"brace/ext/language_tools\";\nimport \"brace/ext/searchbox\";\nimport AceEditor from \"react-ace\";\n\nimport { FilePane } from \"./FilePane\";\nimport { SearchActions } from \"./SearchActions\";\nimport { DownloadModal } from \"./DownloadModal\";\nimport { keys } from \"./Key\";\nimport { UploadShortcutModal } from \"./UploadShortcutModal\";\nimport { ErrorBoundary } from \"./ErrorBoundary\";\n\nimport { FileManager } from \"./FileManager\";\n\nimport ShortcutPreview from \"shortcut-preview\";\n\nlet timeout: NodeJS.Timeout;\nlet saveTimeout: NodeJS.Timeout;\n\nconst Range = ace.acequire(\"ace/range\").Range;\n\nconst langTools = ace.acequire(\"ace/ext/language_tools\");\nconst findAndReplace = ace.acequire(\"ace/ext/searchbox\");\n\nconst rhymeCompleter = {\n\tgetCompletions: (\n\t\teditor: ace.Editor,\n\t\tsession: ace.IEditSession,\n\t\tpos: ace.Position,\n\t\tprefix: string,\n\t\tcallback: (\n\t\t\tthing: null,\n\t\t\tcompletions: {\n\t\t\t\tname: string;\n\t\t\t\tvalue: string;\n\t\t\t\tscore: number;\n\t\t\t\tmeta: string;\n\t\t\t}[]\n\t\t) => void\n\t) => {\n\t\tif (prefix.length === 0) {\n\t\t\tcallback(null, []);\n\t\t\treturn;\n\t\t}\n\t\tconst variables = session.getValue().match(/(v|mv):([A-Za-z0-9]+)/g);\n\t\tconsole.log(variables);\n\t\tif (!variables) {\n\t\t\tcallback(null, []);\n\t\t\treturn;\n\t\t}\n\t\tcallback(\n\t\t\tnull,\n\t\t\tvariables.map(v => ({\n\t\t\t\tname: v,\n\t\t\t\tvalue: v,\n\t\t\t\tscore: 25,\n\t\t\t\tmeta: v\n\t\t\t}))\n\t\t);\n\t}\n};\nlangTools.addCompleter(rhymeCompleter);\n\nconst hotkey =\n\twindow.navigator.platform === \"MacIntel\" ||\n\twindow.navigator.platform.includes(\"Win\")\n\t\t? \"âŒ˜\"\n\t\t: \"^\";\n\nclass MaybeUpdate extends Component<{ shouldUpdate: boolean }, {}> {\n\tshouldComponentUpdate(nextProps: { shouldUpdate: boolean }) {\n\t\treturn nextProps.shouldUpdate;\n\t}\n\trender() {\n\t\treturn this.props.children;\n\t}\n}\n\nconst now = () => new Date().getTime();\n\nclass App extends Component<\n\t{},\n\t{\n\t\tfileValue: string;\n\t\tshortcutData: any;\n\t\tshortcutDownload: Buffer | undefined;\n\t\tannotations: Array<ace.Annotation>;\n\t\tmarkers: Array<{\n\t\t\tstartRow: number;\n\t\t\tendRow: number;\n\t\t\tstartCol: number;\n\t\t\tendCol: number;\n\t\t\tclassName: string;\n\t\t\ttype: string;\n\t\t}>;\n\t\terrors: Array<{\n\t\t\tstartRow: number;\n\t\t\tendRow: number;\n\t\t\tstartCol: number;\n\t\t\tendCol: number;\n\t\t\tmessage: string;\n\t\t}>;\n\t\tloading: boolean;\n\t\ttook: { waitedFor: number; convertedIn: number };\n\t\tmobileFilemenu: boolean;\n\t\topenDownload: boolean;\n\t\tshowPreview: boolean;\n\t\tshowPreviewFullscreen: boolean;\n\t\tshowUploadShortcutModal: boolean;\n\t\ttabs: { id: string; name: string }[];\n\t\tfiles: {\n\t\t\t[filename: string]: string;\n\t\t};\n\t\tfilesNew: { id: string; name: string; loading: boolean }[];\n\t\tactiveID: string | undefined;\n\t\tlastSave: number;\n\t\tlastChage: number;\n\t\tsaveStatus: \"saved\" | \"unsaved\" | \"saving\";\n\t\tloginstatus: \"unknown\" | \"notloggedin\" | \"loggingin\" | \"loggedin\";\n\t}\n> {\n\treactAceComponentRef: React.RefObject<AceEditor>;\n\tconstructor(props: Readonly<{}>) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tfileValue: \"...\",\n\t\t\tshortcutData: testshortcut,\n\t\t\tshortcutDownload: undefined,\n\t\t\tannotations: [],\n\t\t\tmarkers: [],\n\t\t\tloading: false,\n\t\t\ttook: { waitedFor: 0, convertedIn: 0 },\n\t\t\tmobileFilemenu: false,\n\t\t\topenDownload: false,\n\t\t\tshowPreview: false,\n\t\t\tshowPreviewFullscreen: false,\n\t\t\tshowUploadShortcutModal: false,\n\t\t\terrors: [],\n\t\t\ttabs: [],\n\t\t\tactiveID: undefined,\n\t\t\tfilesNew: [],\n\t\t\tlastSave: 0,\n\t\t\tlastChage: 0,\n\t\t\tsaveStatus: \"saved\",\n\t\t\tloginstatus: \"unknown\",\n\t\t\tfiles: {\n\t\t\t\t\"download.scpl\": `ShowResult \"Hello ScPL\"\n\tChooseFromMenu \"ScPL Editor\" items=[\"Getting Started\", \"View Documentation\"]\n\tCase \"Getting Started\"\n\t    URL \"https://docs.scpl.dev/gettingstarted\"\n\tCase \"View Documentation\"\n\t    URL \"https://docs.scpl.dev/\"\n\tEnd Menu\n\tOpenURLs`,\n\t\t\t\t\"other.scpl\": `ShowResult \"ScPL\"`,\n\t\t\t\turlquery:\n\t\t\t\t\tnew URLSearchParams(window.location.search).get(\"scpl\") ||\n\t\t\t\t\t\"\"\n\t\t\t}\n\t\t};\n\t\tthis.reactAceComponentRef = React.createRef<AceEditor>();\n\t}\n\tcomponentDidMount() {}\n\tcomponentWillMount() {\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tthis.onChange(\n\t\t\tnew URLSearchParams(window.location.search).get(\"scpl\") ||\n\t\t\t\t`ShowResult \"Hello ScPL\"\nChooseFromMenu \"ScPL Editor\" items=[\"Getting Started\", \"View Documentation\"]\nCase \"Getting Started\"\n    URL \"https://docs.scpl.dev/gettingstarted\"\nCase \"View Documentation\"\n    URL \"https://docs.scpl.dev/\"\nEnd Menu\nOpenURLs`\n\t\t);\n\t\tFileManager.onFileListChange = () => {\n\t\t\tthis.setState({\n\t\t\t\tfilesNew: FileManager.fileList,\n\t\t\t\ttabs: FileManager.tabs\n\t\t\t});\n\t\t};\n\t\tFileManager.onActiveFileChanged = async (id: string | undefined) => {\n\t\t\tif (this.state.activeID) {\n\t\t\t\tFileManager.saveFile(this.state.activeID, this.state.fileValue);\n\t\t\t}\n\t\t\tif (!id) {\n\t\t\t\treturn this.setState({ activeID: undefined });\n\t\t\t}\n\t\t\t// get the file\n\t\t\tthis.setState({ activeID: undefined });\n\t\t\tconst file = await FileManager.loadFile(id);\n\t\t\t// check last save time\n\t\t\tthis.setState({ activeID: id, lastSave: now() });\n\t\t\tthis.onChange(file);\n\t\t};\n\t\tthis.login();\n\t\tdocument.body.onfocus = () => {\n\t\t\tthis.login();\n\t\t};\n\t}\n\tasync login() {\n\t\tconst logintoken = localStorage.getItem(\"logintoken\");\n\t\tthis.setState({ loginstatus: \"loggingin\" });\n\t\t// request to server\n\t\tconst result = true;\n\t\tif (result) {\n\t\t\tthis.setState({ loginstatus: \"loggedin\" });\n\t\t}\n\t\t// else setstate(loginerr)\n\t\tthis.setState({ loginstatus: \"notloggedin\" });\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tonKeyDown={e => {\n\t\t\t\t\tif (keys.save(e)) {\n\t\t\t\t\t\talert(\"save\");\n\t\t\t\t\t}\n\t\t\t\t\tif (keys.export(e)) {\n\t\t\t\t\t\tthis.setState({ openDownload: true });\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className=\"upload-area\" style={{ display: \"none\" }}>\n\t\t\t\t\t<div>Drop file anywhere to upload</div>\n\t\t\t\t</div>\n\t\t\t\t{this.state.openDownload ? (\n\t\t\t\t\t<DownloadModal\n\t\t\t\t\t\tonCancel={() => {\n\t\t\t\t\t\t\tthis.setState({ openDownload: false });\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tfilename={\n\t\t\t\t\t\t\tthis.state.shortcutData._filename ||\n\t\t\t\t\t\t\t\"download.shortcut\"\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfile={this.state.shortcutDownload}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t\t{this.state.showUploadShortcutModal ? (\n\t\t\t\t\t<UploadShortcutModal\n\t\t\t\t\t\tonCancel={() =>\n\t\t\t\t\t\t\tthis.setState({ showUploadShortcutModal: false })\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonResult={result => {\n\t\t\t\t\t\t\tthis.setState({ showUploadShortcutModal: false });\n\t\t\t\t\t\t\tthis.onChange(result);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\n\t\t\t\t<div className=\"editor-navigation\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`mobile-filemenu${\n\t\t\t\t\t\t\tthis.state.mobileFilemenu ? \" open-filemenu\" : \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tmobileFilemenu: !this.state.mobileFilemenu\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"editor-title\">ScPL Editor</div>\n\t\t\t\t\t\t<div className=\"editor-menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\tFile\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:;\">\n\t\t\t\t\t\t\t\t\t\t\t\tNew File\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{hotkey}N</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li style={{ display: \"none\" }}>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:;\">\n\t\t\t\t\t\t\t\t\t\t\t\tNew Folder\n\t\t\t\t\t\t\t\t\t\t\t\t<span>&#8679;{hotkey}N</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:;\">\n\t\t\t\t\t\t\t\t\t\t\t\tSave File\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{hotkey}S</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:;\">\n\t\t\t\t\t\t\t\t\t\t\t\tClose Tab\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{hotkey}E</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<div className=\"menu-div\" />\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshowUploadShortcutModal: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tImport Shortcut from iCloud\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topenDownload: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tExport Shortcut\n\t\t\t\t\t\t\t\t\t\t\t\t<span>&#8679;{hotkey}S</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"editor-menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getAce().undo()\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tUndo<span>{hotkey}Z</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getAce().redo()\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tRedo\n\t\t\t\t\t\t\t\t\t\t\t\t<span>&#8679;{hotkey}Z</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<div className=\"menu-div\" />\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.execCommand(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"cut\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Please press ctrl/cmd+x to cut\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tCut<span>{hotkey}X</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.execCommand(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"copy\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\t\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Please press ctrl/cmd+c to copy\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tCopy<span>{hotkey}C</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tdocument.execCommand(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"paste\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"Please press ctrl/cmd+v to paste.\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tPaste<span>{hotkey}P</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<div className=\"menu-div\" />\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getAce().selectAll()\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tSelect All\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{hotkey}A</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a href=\"javascript:;\">\n\t\t\t\t\t\t\t\t\t\t\t\tFormat Code\n\t\t\t\t\t\t\t\t\t\t\t\t<span>&#8679;{hotkey}B</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tfindAndReplace.Search(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getAce()\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tFind and Replace\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{hotkey}F</span>\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"editor-menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\tAccount\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"https://account.scpl.dev/settings\" target=\"_blank\">Account Settings</a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"https://account.scpl.dev/filebrowser\" target=\"_blank\">Manage Files</a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"https://account.scpl.dev/shared\" target=\"_blank\">Shared with you</a></li>\n\t\t\t\t\t\t\t\t\t\t<div className=\"menu-div\" />\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"https://account.scpl.dev/login\" target=\"_blank\">Login</a></li>\n\t\t\t\t\t\t\t\t\t\t<li><a href=\"https://account.scpl.dev/sign-up\" target=\"_blank\">Create Account</a></li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"editor-menu\">\n\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\tHelp\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://scpl.dev/\"\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tAbout\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://docs.scpl.dev/gettingstarted.html\"\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tGetting Started\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://docs.scpl.dev/\"\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDocumentation\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://github.com/pfgithub/scpl\"\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tGitHub\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://discordapp.com/invite/2qqfFKc\"\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDiscord\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref=\"https://www.reddit.com/r/scpl\"\n\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tSubreddit\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"search-container\">\n\t\t\t\t\t\t<SearchActions\n\t\t\t\t\t\t\tinsertText={text => {\n\t\t\t\t\t\t\t\tconsole.log(\"insert\", text);\n\t\t\t\t\t\t\t\tconst reactAceComponent = this\n\t\t\t\t\t\t\t\t\t.reactAceComponentRef.current;\n\t\t\t\t\t\t\t\tconst editor = (reactAceComponent as any)\n\t\t\t\t\t\t\t\t\t.editor as ace.Editor;\n\t\t\t\t\t\t\t\teditor.session.insert(\n\t\t\t\t\t\t\t\t\teditor.getCursorPosition(),\n\t\t\t\t\t\t\t\t\ttext\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t\teditor.session.getValue(),\n\t\t\t\t\t\t\t\t\ttext,\n\t\t\t\t\t\t\t\t\teditor.getCursorPosition()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tfileValue: editor.session.getValue()\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div className=\"savedstatus\">\n\t\t\t\t\t\t\t{this.state.saveStatus === \"saved\" ? (\n\t\t\t\t\t\t\t\t\"All changes saved\"\n\t\t\t\t\t\t\t) : this.state.saveStatus === \"saving\" ? (\n\t\t\t\t\t\t\t\t\"Saving...\"\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\tclassName=\"last-saved\"\n\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\tclearTimeout(saveTimeout);\n\t\t\t\t\t\t\t\t\t\tthis.state.activeID &&\n\t\t\t\t\t\t\t\t\t\t\t(await FileManager.saveFile(\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.activeID,\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.fileValue\n\t\t\t\t\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tsaveStatus: \"saved\",\n\t\t\t\t\t\t\t\t\t\t\tlastSave: now()\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tLast saved:{\" \"}\n\t\t\t\t\t\t\t\t\t{moment\n\t\t\t\t\t\t\t\t\t\t.unix(this.state.lastSave / 1000)\n\t\t\t\t\t\t\t\t\t\t.fromNow()}\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"result-details\">\n\t\t\t\t\t\t\t<div className=\"result-actions\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tthis.state.shortcutData[0].WFWorkflowActions\n\t\t\t\t\t\t\t\t\t\t.length\n\t\t\t\t\t\t\t\t}{\" \"}\n\t\t\t\t\t\t\t\taction\n\t\t\t\t\t\t\t\t{this.state.shortcutData[0].WFWorkflowActions\n\t\t\t\t\t\t\t\t\t.length === 1\n\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t: \"s\"}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"editor-btn\" id=\"run-preview\">\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"javascript:;\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tshowPreviewFullscreen: !this.state\n\t\t\t\t\t\t\t\t\t\t\t.showPreviewFullscreen,\n\t\t\t\t\t\t\t\t\t\tshowPreview: !this.state\n\t\t\t\t\t\t\t\t\t\t\t.showPreviewFullscreen\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tPreview\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"editor-btn primary-btn\"\n\t\t\t\t\t\t\tid=\"open-download\"\n\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\topenDownload: true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a href=\"javascript:;\">Export</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-container\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`file-pane${\n\t\t\t\t\t\t\tthis.state.mobileFilemenu ? \" open-menu\" : \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"no-files-overlay\"\n\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<h3>No files&mdash;yet.</h3>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tAdd files above by creating ScPL files\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tor by uploading or importing a shortcut.\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/*<div className=\"no-account-btns\">\n\t\t\t\t\t\t<button className=\"btn large-upload-btn stretch-btn\">\n\t\t\t\t\t\t\tUpload Shortcut\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button className=\"btn large-import-btn stretch-btn\">\n\t\t\t\t\t\t\tImport Shortcut\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"no-account-overlay\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tSign up or login to save<br/>and manage your ScPL files.\n\t\t\t\t\t\t\t<br/><br/>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://account.scpl.dev/sign-up\"\n\t\t\t\t\t\t\tclassName=\"editor-btn primary-btn btn\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSign up\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://account.scpl.dev/login\"\n\t\t\t\t\t\t\tclassName=\"editor-btn btn trans-btn\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"no-account-overlay\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\tSign up or login to save\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\tand manage your ScPL files.\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"https://account.scpl.dev/sign-up\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"editor-btn primary-btn btn\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSign up\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref=\"https://account.scpl.dev/login\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"editor-btn btn trans-btn\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>*/}\n\t\t\t\t\t\t<FilePane\n\t\t\t\t\t\t\tfiles={this.state.filesNew}\n\t\t\t\t\t\t\tonActiveFileChanged={file => this.onChange(file)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref=\"https://account.scpl.dev/settings\"\n\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\trel=\"noopener\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"account-settings-bar\">\n\t\t\t\t\t\t\t\tAccount Settings\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"code-pane\">\n\t\t\t\t\t\t<div className=\"error-messages\">\n\t\t\t\t\t\t\t{this.state.errors.map(err => (\n\t\t\t\t\t\t\t\t<div className=\"e-message\">\n\t\t\t\t\t\t\t\t\t<div className=\"message-content\">\n\t\t\t\t\t\t\t\t\t\t{err.message}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"jump-error\">\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\t\tthis.jumpToError(err)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tJump\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"tabs-nav\">\n\t\t\t\t\t\t\t{this.state.tabs.length > 1 ? (\n\t\t\t\t\t\t\t\t<div className=\"file-tabs\">\n\t\t\t\t\t\t\t\t\t{this.state.tabs.map(tab => (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={`tab ${\n\t\t\t\t\t\t\t\t\t\t\t\tthis.state.activeID === tab.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"active-tab\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\tFileManager.addTab(tab.id);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"tab-close\">\n\t\t\t\t\t\t\t\t\t\t\t\t&times;\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"tab-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t{tab.name}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t<div className=\"variables-container\">\n\t\t\t\t\t\t\t\t<div className=\"variables\">\n\t\t\t\t\t\t\t\t\t<div className=\"global-variables\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"variable\">\n\t\t\t\t\t\t\t\t\t\t\tAsk When Run\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"variable clipboard-v\">\n\t\t\t\t\t\t\t\t\t\t\t<div>Clipboard</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"variable date-v\">\n\t\t\t\t\t\t\t\t\t\t\t<div>Current Date</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"variable input-v\">\n\t\t\t\t\t\t\t\t\t\t\t<div>Shortcut Input</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"code-variables\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"variable\">example</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"variable mv\">\n\t\t\t\t\t\t\t\t\t\t\t<div>magic</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{this.state.activeID ? (\n\t\t\t\t\t\t\t<AceEditor\n\t\t\t\t\t\t\t\tmode=\"scpl\"\n\t\t\t\t\t\t\t\ttheme=\"chrome\"\n\t\t\t\t\t\t\t\tonChange={this.onChange.bind(this)}\n\t\t\t\t\t\t\t\tname=\"ace_editor\"\n\t\t\t\t\t\t\t\teditorProps={{ $blockScrolling: Infinity }}\n\t\t\t\t\t\t\t\tvalue={this.state.fileValue || \"\"}\n\t\t\t\t\t\t\t\tannotations={this.state.annotations}\n\t\t\t\t\t\t\t\tmarkers={this.state.markers}\n\t\t\t\t\t\t\t\tref={this.reactAceComponentRef}\n\t\t\t\t\t\t\t\tshowPrintMargin={false}\n\t\t\t\t\t\t\t\tenableBasicAutocompletion={true}\n\t\t\t\t\t\t\t\tenableLiveAutocompletion={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"editor-error no-open-files\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h3>No files are open in the editor.</h3>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tUpload or import a shortcut, plus create\n\t\t\t\t\t\t\t\t\t\tand\n\t\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t\t\tmanage ScPL files in the left pane.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`result-pane${\n\t\t\t\t\t\t\tthis.state.loading && this.state.showPreview\n\t\t\t\t\t\t\t\t? \" loading\"\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t}${\n\t\t\t\t\t\t\t!this.state.showPreviewFullscreen\n\t\t\t\t\t\t\t\t? \" mobiledisabled\"\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t\t// style={{\n\t\t\t\t\t\t// \tdisplay: this.state.showPreview ? \"none\" : \"block\"\n\t\t\t\t\t\t// }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"result-text\">\n\t\t\t\t\t\t\tConverted in <span id=\"highlight-result\">{this.state.took.convertedIn} ms.</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{this.state.showPreview &&\n\t\t\t\t\t\tthis.state.errors.length === 0 ? (\n\t\t\t\t\t\t\t<ErrorBoundary\n\t\t\t\t\t\t\t\terrorDisplay={err => (\n\t\t\t\t\t\t\t\t\t<div className=\"preview-error render-error shortcut-preview-fatal-error\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"render-text\">\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\tA fatal error occured in\n\t\t\t\t\t\t\t\t\t\t\tshortcut-preview. The error is{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{err.toString()}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<ShortcutPreview\n\t\t\t\t\t\t\t\t\tonInteract={data =>\n\t\t\t\t\t\t\t\t\t\tthis.onActionSelect(data)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdata={this.state.shortcutData}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</ErrorBoundary>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<div className=\"loading-result-progress\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div className=\"spinner\">\n\t\t\t\t\t\t\t\t\t<div className=\"bar1\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar2\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar3\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar4\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar5\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar6\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar7\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar8\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar9\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar10\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar11\" />\n\t\t\t\t\t\t\t\t\t<div className=\"bar12\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{!this.state.showPreview ? (\n\t\t\t\t\t\t\t<div className=\"preview-error render-error\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tThere are too many actions to render a\n\t\t\t\t\t\t\t\t\t\tpreview automatically.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn trans-btn\"\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\t\tshowPreview: true\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tRender Preview\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t{this.state.errors.length !== 0 ? (\n\t\t\t\t\t\t\t<div className=\"preview-error render-error\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\tFailed to render because of code error.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\tonActionSelect(data: { type: \"action\" | \"parameter\"; actionData: any }) {\n\t\tif (data.actionData.SCPLData) {\n\t\t\tconst scpldata = data.actionData.SCPLData;\n\n\t\t\tconst reactAceComponent = this.reactAceComponentRef.current;\n\t\t\tif (!reactAceComponent) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst editor = (reactAceComponent as any).editor as ace.Editor;\n\t\t\t// .Position.start|end\n\t\t\tconst line = scpldata.Position.start[0];\n\t\t\tconst col = scpldata.Position.start[1] - 1;\n\t\t\teditor.gotoLine(line, col, true);\n\t\t\teditor.selection.setRange(\n\t\t\t\tnew Range(\n\t\t\t\t\tscpldata.Position.start[0] - 1,\n\t\t\t\t\tscpldata.Position.start[1] - 1,\n\t\t\t\t\tscpldata.Position.end[0] - 1,\n\t\t\t\t\tscpldata.Position.end[1] - 1\n\t\t\t\t),\n\t\t\t\ttrue\n\t\t\t);\n\t\t}\n\t}\n\tgetAce(): ace.Editor {\n\t\tconst reactAceComponent = this.reactAceComponentRef.current;\n\t\tif (!reactAceComponent) {\n\t\t\tthrow new Error(\"No reactacecomponent\");\n\t\t}\n\t\tconst editor = (reactAceComponent as any).editor as ace.Editor;\n\t\treturn editor;\n\t}\n\tjumpToError(d: {\n\t\tstartCol: number;\n\t\tstartRow: number;\n\t\tendCol: number;\n\t\tendRow: number;\n\t}) {\n\t\tconst reactAceComponent = this.reactAceComponentRef.current;\n\t\tif (!reactAceComponent) {\n\t\t\treturn;\n\t\t}\n\t\tconst editor = (reactAceComponent as any).editor as ace.Editor;\n\t\tconst line = d.startRow;\n\t\tconst col = d.startCol - 1;\n\t\teditor.gotoLine(line, col, true);\n\t\teditor.selection.setRange(\n\t\t\tnew Range(\n\t\t\t\td.startRow - 1,\n\t\t\t\td.startCol - 1,\n\t\t\t\td.endRow - 1,\n\t\t\t\td.endCol - 1\n\t\t\t),\n\t\t\ttrue\n\t\t);\n\t}\n\tonChange(text: string) {\n\t\tthis.setState({ lastChage: now() });\n\t\tconst willWaitFor = text.length < 500 ? 100 : 1000;\n\t\tthis.setState({\n\t\t\tfileValue: text,\n\t\t\tloading: true,\n\t\t\tsaveStatus: \"unsaved\"\n\t\t});\n\t\tif (!this.state.loading) {\n\t\t\tthis.setState({ showPreview: text.length < 500 });\n\t\t}\n\t\tif (saveTimeout) {\n\t\t\tclearTimeout(saveTimeout);\n\t\t}\n\t\tsaveTimeout = setTimeout(async () => {\n\t\t\tthis.setState({ saveStatus: \"saving\" });\n\t\t\tthis.state.activeID &&\n\t\t\t\t(await FileManager.saveFile(this.state.activeID, text));\n\t\t\tthis.setState({ saveStatus: \"saved\", lastSave: now() });\n\t\t}, 1000);\n\t\tif (timeout) {\n\t\t\tclearTimeout(timeout);\n\t\t}\n\t\ttimeout = setTimeout(\n\t\t\t() => this.onChangeLimited(text, willWaitFor),\n\t\t\twillWaitFor\n\t\t);\n\t}\n\tonChangeLimited(text: string, waitedFor: number) {\n\t\t// parse\n\t\tlet output: { shortcutjson: any; shortcutplist: Buffer };\n\t\tconst startTime = new Date().getTime();\n\t\ttry {\n\t\t\toutput = parse(text, { make: [\"shortcutjson\", \"shortcutplist\"] });\n\t\t} catch (er) {\n\t\t\tconsole.log(er.message); //eslint-disable-line no-console\n\t\t\tif (!(er instanceof PositionedError)) {\n\t\t\t\tthrow er;\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\tfileValue: text,\n\t\t\t\tloading: false,\n\t\t\t\tshortcutDownload: undefined,\n\t\t\t\ttook: {\n\t\t\t\t\twaitedFor: waitedFor,\n\t\t\t\t\tconvertedIn: new Date().getTime() - startTime\n\t\t\t\t},\n\t\t\t\tannotations: [\n\t\t\t\t\t{\n\t\t\t\t\t\trow: er.start[0] - 1,\n\t\t\t\t\t\tcolumn: er.start[1] - 1,\n\t\t\t\t\t\ttext: er.message, // Or the Json reply from the parser\n\t\t\t\t\t\ttype: \"error\" // also warning and information\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\tmarkers: [\n\t\t\t\t\t{\n\t\t\t\t\t\tstartRow: er.start[0] - 1,\n\t\t\t\t\t\tendRow: er.end[0] - 1,\n\t\t\t\t\t\tstartCol: er.start[1] - 1,\n\t\t\t\t\t\tendCol: er.end[1] - 1,\n\t\t\t\t\t\tclassName: \"ace_active-line error\",\n\t\t\t\t\t\ttype: \"background\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\terrors: [\n\t\t\t\t\t{\n\t\t\t\t\t\tstartRow: er.start[0],\n\t\t\t\t\t\tendRow: er.end[0],\n\t\t\t\t\t\tstartCol: er.start[1],\n\t\t\t\t\t\tendCol: er.end[1],\n\t\t\t\t\t\tmessage: er.message\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\tconst { shortcutjson, shortcutplist } = output;\n\t\tthis.setState({\n\t\t\tfileValue: text,\n\t\t\ttook: {\n\t\t\t\twaitedFor: waitedFor,\n\t\t\t\tconvertedIn: new Date().getTime() - startTime\n\t\t\t},\n\t\t\tloading: false,\n\t\t\tshortcutData: shortcutjson,\n\t\t\tannotations: [],\n\t\t\tmarkers: [],\n\t\t\terrors: [],\n\t\t\tshortcutDownload: shortcutplist\n\t\t});\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}